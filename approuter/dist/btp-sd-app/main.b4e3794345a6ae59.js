"use strict";(self.webpackChunkBTP_SD_APP=self.webpackChunkBTP_SD_APP||[]).push([[179],{8649:(u,f,c)=>{c.d(f,{M:()=>a});var b=c(1699),h=c(3954);let a=(()=>{class M{constructor(m){this.apiService=m,this.formulaInformation={createInformation:{formula:"",description:"",numberOfParameters:0},parameterInformation:{parameters:[]},relationInformation:{formulaLogic:""},testInformation:{variables:[]}}}getFormulaInformation(){return this.formulaInformation}addApiRecord(m){return this.apiService.post("formulas",m).subscribe(d=>{console.log("formula created:",d)}),this.apiService.post("formulas",m)}setFormulaformation(m){this.formulaInformation=m}static#e=this.\u0275fac=function(d){return new(d||M)(b.LFG(h.s))};static#t=this.\u0275prov=b.Yz7({token:M,factory:M.\u0275fac})}return M})()},4804:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>TestComponent});var _formula_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8649),src_app_shared_ApiService_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3954),primeng_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8026),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1699),_angular_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3525),_angular_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6575),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8849),primeng_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2947),primeng_dialog__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7113),primeng_toast__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8313),primeng_card__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4722),primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4123);function TestComponent_ng_template_2_div_0_Template(u,f){if(1&u){const c=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",6)(1,"label",7),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(3,"input",8),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("ngModelChange",function(h){const M=_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(c).$implicit,k=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(k.testInformation.variables[M]=h)}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&u){const c=f.$implicit,b=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw(2);_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.s9C("for",c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij("",c,":"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("id",c)("ngModel",b.testInformation.variables[c])}}function TestComponent_ng_template_2_Template(u,f){if(1&u){const c=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(0,TestComponent_ng_template_2_div_0_Template,4,4,"div",3),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"div",4)(2,"p-button",5),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("onClick",function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(c);const h=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(h.showResult())}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}if(2&u){const c=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("ngForOf",c.getVariables(c.formulaLogic)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("rounded",!0)}}function TestComponent_ng_template_3_Template(u,f){if(1&u){const c=_angular_core__WEBPACK_IMPORTED_MODULE_0__.EpF();_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(0,"div",9)(1,"p-button",10),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("onClick",function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(c);const h=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(h.prevPage())}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(2,"p-button",11),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("onClick",function(){_angular_core__WEBPACK_IMPORTED_MODULE_0__.CHM(c);const h=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oxw();return _angular_core__WEBPACK_IMPORTED_MODULE_0__.KtG(h.saveFormula())}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()}2&u&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("rounded",!0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("rounded",!0))}const _c0=function(){return{width:"450px"}},_c1=function(){return{width:"50vw"}},_c2=function(){return{"960px":"75vw"}};let TestComponent=(()=>{class TestComponent{constructor(u,f,c,b,h){this.router=u,this.formulaService=f,this.apiService=c,this.messageService=b,this.confirmationService=h,this.result=0,this.visible=!1,this.parameterIds=[],this.parameterDescriptions=[]}ngOnInit(){this.testInformation=this.formulaService.getFormulaInformation().testInformation,this.formulaLogic=history.state.formulaLogic,this.passedCreateInfo=history.state.passedCreateInfo,this.passedParamInfo=history.state.passedParamInfo,this.parameterIds=this.passedParamInfo.map(u=>u.paramID),this.parameterDescriptions=this.passedParamInfo.map(u=>u.paramDescription)}getVariables(u){return u.match(/[a-zA-Z]+/g)||[]}prevPage(){const u={state:{passedCreateInfo:this.passedCreateInfo,passedParamInfo:this.passedParamInfo,formulaLogic:this.formulaLogic}};console.log(u),this.router.navigate(["/formula/relation"],u)}showResult(){if(this.testInformation.variables){const valuesOnly=Object.values(this.testInformation.variables).filter(u=>"number"==typeof u);this.valuesTestParam=valuesOnly,this.formulaService.formulaInformation.testInformation=this.testInformation,this.formulaObject1={formula:this.passedCreateInfo.formula,description:this.passedCreateInfo.description,numberOfParameters:this.passedCreateInfo.numberOfParameters,parameterIds:this.parameterIds,parameterDescriptions:this.parameterDescriptions,formulaLogic:this.formulaLogic,testParameters:valuesOnly},console.log(this.formulaObject1);const formulaLogic=this.formulaObject1.formulaLogic,numberOfParameters=this.formulaObject1.numberOfParameters,parameterIds=this.formulaObject1.parameterIds,testParameters=this.formulaObject1.testParameters;let formulaLogicWithValues=formulaLogic;for(let u=0;u<numberOfParameters;u++){const f=parameterIds[u],c=testParameters[u];formulaLogicWithValues=formulaLogicWithValues.replace(new RegExp(f,"g"),c),console.log(formulaLogicWithValues)}this.result=eval(formulaLogicWithValues),console.log(this.result),this.visible=!0}}saveFormula(){const u={formula:this.passedCreateInfo.formula,description:this.passedCreateInfo.description,numberOfParameters:this.passedCreateInfo.numberOfParameters,parameterIds:this.parameterIds,parameterDescriptions:this.parameterDescriptions,formulaLogic:this.formulaLogic,testParameters:this.valuesTestParam};console.log(u),this.apiService.post("formulas",u).subscribe(f=>{console.log("formula created:",f),this.result=f.result,this.confirmationService.confirm({message:"Formula Created successfully. Click Accept to go to the Formulas Page.",header:"Added Successfully",icon:"pi pi-check",accept:()=>{localStorage.clear(),this.router.navigate(["/formulas"])},reject:()=>{}})},f=>{console.error("An error occurred:",f),console.log(f.status),409===f.status&&this.messageService.add({severity:"error",summary:"Code Conflict",detail:"This Formula Code already exists",life:1e4})})}static#_=this.\u0275fac=function u(f){return new(f||TestComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_angular_router__WEBPACK_IMPORTED_MODULE_1__.F0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(_formula_service__WEBPACK_IMPORTED_MODULE_2__.M),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(src_app_shared_ApiService_service__WEBPACK_IMPORTED_MODULE_3__.s),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(primeng_api__WEBPACK_IMPORTED_MODULE_4__.ez),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Y36(primeng_api__WEBPACK_IMPORTED_MODULE_4__.YP))};static#_2=this.\u0275cmp=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xpm({type:TestComponent,selectors:[["app-test"]],features:[_angular_core__WEBPACK_IMPORTED_MODULE_0__._Bn([_formula_service__WEBPACK_IMPORTED_MODULE_2__.M,src_app_shared_ApiService_service__WEBPACK_IMPORTED_MODULE_3__.s,primeng_api__WEBPACK_IMPORTED_MODULE_4__.ez,primeng_api__WEBPACK_IMPORTED_MODULE_4__.YP])],decls:8,vars:12,consts:[["pTemplate","content"],["pTemplate","footer"],["header","Test Result",3,"visible","breakpoints","draggable","resizable","visibleChange"],["class","field",4,"ngFor","ngForOf"],[1,"flex","justify-content-center","flex-wrap"],["label","Show Result",3,"rounded","onClick"],[1,"field"],[3,"for"],["type","number","required","","pInputNumber","",1,"text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"id","ngModel","ngModelChange"],[1,"flex","justify-content-between","flex-wrap"],["label","Back","icon","pi pi-angle-left",3,"rounded","onClick"],["label","Confirm & Save",3,"rounded","onClick"]],template:function u(f,c){1&f&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(0,"p-toast"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(1,"p-card"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(2,TestComponent_ng_template_2_Template,3,2,"ng-template",0),_angular_core__WEBPACK_IMPORTED_MODULE_0__.YNc(3,TestComponent_ng_template_3_Template,3,2,"ng-template",1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA(),_angular_core__WEBPACK_IMPORTED_MODULE_0__._UZ(4,"p-confirmDialog"),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(5,"p-dialog",2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.NdJ("visibleChange",function(h){return c.visible=h}),_angular_core__WEBPACK_IMPORTED_MODULE_0__.TgZ(6,"p"),_angular_core__WEBPACK_IMPORTED_MODULE_0__._uU(7),_angular_core__WEBPACK_IMPORTED_MODULE_0__.qZA()()),2&f&&(_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(4),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Akn(_angular_core__WEBPACK_IMPORTED_MODULE_0__.DdM(9,_c0)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Akn(_angular_core__WEBPACK_IMPORTED_MODULE_0__.DdM(10,_c1)),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Q6J("visible",c.visible)("breakpoints",_angular_core__WEBPACK_IMPORTED_MODULE_0__.DdM(11,_c2))("draggable",!1)("resizable",!1),_angular_core__WEBPACK_IMPORTED_MODULE_0__.xp6(2),_angular_core__WEBPACK_IMPORTED_MODULE_0__.hij(" The Result is ",c.result,""))},dependencies:[_angular_common__WEBPACK_IMPORTED_MODULE_5__.sg,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Fj,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.wV,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.JJ,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Q7,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.On,primeng_button__WEBPACK_IMPORTED_MODULE_7__.zx,primeng_api__WEBPACK_IMPORTED_MODULE_4__.jx,primeng_dialog__WEBPACK_IMPORTED_MODULE_8__.V,primeng_toast__WEBPACK_IMPORTED_MODULE_9__.FN,primeng_card__WEBPACK_IMPORTED_MODULE_10__.Z,primeng_confirmdialog__WEBPACK_IMPORTED_MODULE_11__.Q]})}return TestComponent})()},3954:(u,f,c)=>{c.d(f,{s:()=>a});var b=c(4860),h=c(1699);let a=(()=>{class M{constructor(m){this.http=m,this.baseUrl="https://proxy-app.cfapps.us10-001.hana.ondemand.com/api"}get(m,d,Z){let C=new b.LE;return d&&(C=C.set("keyword",d),console.log(C)),console.log(this.http.get(`${this.baseUrl}/${m}`,{params:C})),this.http.get(`${this.baseUrl}/${m}`)}getID(m,d,Z,C){return console.log(this.http.get(`${this.baseUrl}/${m}/${d}`)),this.http.get(`${this.baseUrl}/${m}/${d}`)}post(m,d,Z){return this.http.post(`${this.baseUrl}/${m}`,d)}put(m,d,Z,C){return this.http.put(`${this.baseUrl}/${m}/${d}`,Z)}patch(m,d,Z,C){return this.http.patch(`${this.baseUrl}/${m}/${d}`,Z)}update(m,d,Z){return this.http.patch(`${this.baseUrl}/${m}`,d)}delete(m,d,Z){return this.http.delete(`${this.baseUrl}/${m}/${d}`)}deleteFromApp(m,d){return this.http.delete(`${this.baseUrl}/${m}`)}updateApp(m,d,Z){return this.http.patch(`${this.baseUrl}/${m}`,d)}static#e=this.\u0275fac=function(d){return new(d||M)(h.LFG(b.eN))};static#t=this.\u0275prov=h.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},3883:(u,f,c)=>{var b=c(6480),h=c(4860),a=c(8849),M=c(3782),k=c(2868),m=c(4177),d=c(6575),Z=c(6134),C=c(2947),g=c(9894),O=c(8134),L=c(7113),R=c(9177),B=c(652),le=c(9404),w=c(8313),K=c(4745),ae=c(3500),y=c(4123),se=c(6759),G=c(7524),Y=c(1580),ce=c(9988),N=c(4722),de=c(3793),pe=c(2957),v=c(3525),A=c(9877),e=c(1699),T=c(3954);let P=(()=>{class n{constructor(t){this.apiService=t,this.recordsChanged=new A.x,this.startedEditing=new A.x}getRecords(){this.apiService.get("modelspecs").subscribe(t=>{console.log(t),this.recordsApi=t,this.recordsChanged.next(this.recordsApi)})}addRecord(t){this.apiService.post("modelspecs",t).subscribe(r=>(console.log("modelspecs created:",r),this.getRecords(),r))}updateRecord(t,r){this.apiService.put("modelspecs",t,r).subscribe(o=>{console.log("modelspecs updated:",o),this.getRecords()})}deleteRecord(t){}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(T.s))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var p=c(8026),F=c(3665);const _e=["f"];function ue(n,l){1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th",8),e.TgZ(2,"th",9),e._uU(3,"modelServ.Spec"),e.qZA(),e.TgZ(4,"th",9),e._uU(5,"blockingIndicator"),e.qZA(),e.TgZ(6,"th",9),e._uU(7,"ServiceSelection"),e.qZA(),e.TgZ(8,"th",9),e._uU(9,"Description"),e.qZA(),e.TgZ(10,"th",9),e._uU(11,"SearchTerm"),e.qZA(),e.TgZ(12,"th",9),e._uU(13,"Currency"),e.qZA(),e.TgZ(14,"th",9),e._uU(15,"Services"),e.qZA(),e.TgZ(16,"th",9),e._uU(17,"Actions"),e.qZA()())}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.modelServSpec=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.modelServSpec)}}function ge(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.modelServSpec," ")}}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.blockingIndicator=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.blockingIndicator)}}function he(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.blockingIndicator," ")}}function ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.serviceSelection=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.serviceSelection)}}function Ce(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.serviceSelection," ")}}function be(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.description=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.description)}}function xe(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.description," ")}}function Te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.searchTerm=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.searchTerm)}}function Me(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.searchTerm," ")}}function Se(n,l){if(1&n&&(e.TgZ(0,"div",23)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}const Ze=function(){return{standalone:!0}},we=function(){return["code","description"]};function Ae(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.currencyCode=o)}),e.YNc(1,Se,3,2,"ng-template",22),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw();e.MGl("placeholder","`",t.currencyCode,"`"),e.Q6J("options",r.recordsCurrency)("ngModel",t.currencyCode)("ngModelOptions",e.DdM(8,Ze))("filter",!0)("filterFields",e.DdM(9,we))("showClear",!0)("appendTo","body")}}function ye(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.currencyCode," ")}}function De(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.onRowEditInit(o))}),e.qZA()}}function Ie(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.onRowEditSave(o.modelSpecCode,o))}),e.qZA()}}function Ne(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.rowIndex,_=e.oxw();return e.KtG(_.onRowEditCancel(i,s))}),e.qZA()}}function Ue(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",10),e._UZ(1,"td"),e.TgZ(2,"td")(3,"p-cellEditor"),e.YNc(4,me,1,1,"ng-template",11),e.YNc(5,ge,1,1,"ng-template",12),e.qZA()(),e.TgZ(6,"td")(7,"p-cellEditor"),e.YNc(8,fe,1,1,"ng-template",11),e.YNc(9,he,1,1,"ng-template",12),e.qZA()(),e.TgZ(10,"td")(11,"p-cellEditor"),e.YNc(12,ve,1,1,"ng-template",11),e.YNc(13,Ce,1,1,"ng-template",12),e.qZA()(),e.TgZ(14,"td")(15,"p-cellEditor"),e.YNc(16,be,1,1,"ng-template",11),e.YNc(17,xe,1,1,"ng-template",12),e.qZA()(),e.TgZ(18,"td")(19,"p-cellEditor"),e.YNc(20,Te,1,1,"ng-template",11),e.YNc(21,Me,1,1,"ng-template",12),e.qZA()(),e.TgZ(22,"td")(23,"p-cellEditor"),e.YNc(24,Ae,2,10,"ng-template",11),e.YNc(25,ye,1,1,"ng-template",12),e.qZA()(),e.TgZ(26,"td")(27,"button",13),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.navigateServices(i))}),e.qZA()(),e.TgZ(28,"td")(29,"div",14),e.YNc(30,De,1,0,"button",15),e.YNc(31,Ie,1,0,"button",16),e.YNc(32,Ne,1,0,"button",17),e.TgZ(33,"button",18),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteRecord(i))}),e.qZA()()()()}if(2&n){const r=l.editing;e.Q6J("pEditableRow",l.$implicit),e.xp6(30),e.Q6J("ngIf",!r),e.xp6(1),e.Q6J("ngIf",r),e.xp6(1),e.Q6J("ngIf",r)}}const Oe=function(){return{"min-width":"50rem"}},Ee=function(){return{width:"450px"}};let Re=(()=>{class n{constructor(t,r,o,i,s,_,x){this.apiService=t,this.modelService=r,this.messageService=o,this.confirmationService=i,this.modalService=s,this.fb=_,this.router=x,this.modalVisible=!1,this.deleteDialog=!1,this.editMode=!1,this.clonedRecords={}}ngOnInit(){this.modelService.getRecords(),this.subscription=this.modelService.recordsChanged.subscribe(t=>{this.records=t.sort((r,o)=>o.modelSpecCode-r.modelSpecCode)}),this.apiService.get("currencies").subscribe(t=>{this.recordsCurrency=t})}navigateModelAdd(){this.router.navigate(["/add-model"])}showDeleteDialog(){this.deleteDialog=!0}onRowEditInit(t){this.clonedRecords[t.modelSpecCode]={...t}}onRowEditSave(t,r){this.modelService.updateRecord(t,r),this.ngOnInit(),this.editMode=!1,delete this.clonedRecords[r.modelSpecCode],this.messageService.add({severity:"success",summary:"Success",detail:`Model ${r.modelSpecCode} Updated Successfully`})}onRowEditCancel(t,r){this.records[r]=this.clonedRecords[t.modelSpecCode],delete this.clonedRecords[t.modelSpecCode]}navigateServices(t){this.router.navigate(["/modelSpecDetails"],{state:{Record:t}})}deleteRecord(t){this.confirmationService.confirm({message:"Are you sure you want to delete the selected record?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.apiService.delete("modelspecs",t.modelSpecCode).subscribe(r=>{console.log("model spec deleted:",r),this.modelService.getRecords()}),this.messageService.add({severity:"success",summary:"Successfully",detail:"Deleted",life:3e3})}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(P),e.Y36(p.ez),e.Y36(p.YP),e.Y36(m.FF),e.Y36(a.qu),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-model"]],viewQuery:function(r,o){if(1&r&&e.Gf(_e,5),2&r){let i;e.iGM(i=e.CRH())&&(o.slForm=i.first)}},features:[e._Bn([P,p.ez,p.YP])],decls:13,vars:7,consts:[[1,"card","mt-5"],[1,"m-4"],[1,"p-toolbar-group-start"],[1,"p-toolbar-group-end"],["pButton","","icon","pi pi-plus",3,"click"],["dataKey","modelSpecCode","editMode","row","scrollHeight","400px",3,"value","tableStyle","scrollable"],["pTemplate","header"],["pTemplate","body"],[2,"width","4rem"],["fd-table-cell",""],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],["pButton","","icon","pi pi-external-link","size","small","label","Services",3,"click"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash","severity","danger",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pInputText","","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pInputText","","type","checkbox",3,"ngModel","ngModelChange"],["optionValue","code","optionLabel","code",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","placeholder","appendTo","ngModelChange"],["pTemplate","item"],[1,"flex","align-items-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(r,o){1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"p-toolbar",1)(3,"div",2)(4,"h5"),e._uU(5,"Models:"),e.qZA()(),e.TgZ(6,"div",3)(7,"button",4),e.NdJ("click",function(){return o.navigateModelAdd()}),e._uU(8,"Add New Model"),e.qZA()()(),e.TgZ(9,"p-table",5),e.YNc(10,ue,18,0,"ng-template",6),e.YNc(11,Ue,34,4,"ng-template",7),e.qZA()(),e._UZ(12,"p-confirmDialog")),2&r&&(e.xp6(9),e.Q6J("value",o.records)("tableStyle",e.DdM(5,Oe))("scrollable",!0),e.xp6(3),e.Akn(e.DdM(6,Ee)))},dependencies:[F.tN,d.O5,a.Fj,a.Wl,a.JJ,a.On,C.Hq,p.jx,g.iA,g.YL,g.D$,g.Pv,g.U1,g.wT,O.Lt,R.o,w.FN,y.Q]})}return n})();class Pe{constructor(l,t,r,o,i,s){this.modelSpecDetailsCode=[],this.currencyCode=l,this.modelServSpec=t,this.blockingIndicator=r,this.serviceSelection=o,this.description=i,this.searchTerm=s}}function Fe(n,l){1&n&&(e.TgZ(0,"div",25),e._uU(1," Description is required "),e.qZA())}function qe(n,l){if(1&n&&(e.TgZ(0,"div",26)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}const Je=function(){return["code","description"]},ke=function(){return{width:"450px"}};let Le=(()=>{class n{constructor(t,r,o,i,s){this.modelService=t,this.apiService=r,this.messageService=o,this.confirmationService=i,this.router=s,this.modelForm=new a.cw({modelServSpec:new a.NI(""),searchTerm:new a.NI(""),description:new a.NI("",[a.kI.required]),blockingIndicator:new a.NI(!1),serviceSelection:new a.NI(!1),currencyCode:new a.NI(0)})}ngOnInit(){this.apiService.get("currencies").subscribe(t=>{this.recordsCurrency=t})}onSubmit(t){const r=t.value,o=new Pe(r.currencyCode,r.modelServSpec,r.blockingIndicator,r.serviceSelection,r.description,r.searchTerm),i=Object.fromEntries(Object.entries(o).filter(([s,_])=>""!==_&&0!==_&&null!=_));console.log(i),this.apiService.post("modelspecs",i).subscribe({next:s=>{console.log("Model created:",s)},error:s=>{console.log(s)},complete:()=>{this.confirmationService.confirm({message:"Model  Added successfully. Click Yes to go to the Main Page.",header:"Added Successfully",icon:"pi pi-check",accept:()=>{this.router.navigate(["/model"])},reject:()=>{}})}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(P),e.Y36(T.s),e.Y36(p.ez),e.Y36(p.YP),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-model"]],features:[e._Bn([P,p.ez,p.YP])],decls:42,vars:11,consts:[[1,"card","mt-5"],[3,"formGroup","ngSubmit"],[1,"row","m-2"],[1,"field","col-12","md:col-3"],["for","modelServSpec"],[1,"input-group"],["id","modelServSpec","name","modelServSpec","type","text","formControlName","modelServSpec",1,"form-control","text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary"],["for","blockingIndicator"],["id","blockingIndicator","name","blockingIndicator","type","checkbox","formControlName","blockingIndicator"],["for","serviceSelection"],["id","serviceSelection","name","serviceSelection","type","checkbox","formControlName","serviceSelection"],["header","General Data:",1,"row","mt-2"],[1,"field","grid"],["for","description",1,"col-12","mb-2","md:col-2","md:mb-0"],[2,"color","red"],[1,"col-12","md:col-10","input-group"],["id","description","name","description","type","text","formControlName","description",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary"],["class","text-danger m-1",4,"ngIf"],["for","searchTerm",1,"col-12","mb-2","md:col-2","md:mb-0"],["id","searchTerm","name","searchTerm","type","text","formControlName","searchTerm",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary"],["for","currency",1,"col-12","mb-2","md:col-2","md:mb-0"],["formControlName","currencyCode","optionValue","code","optionLabel","code","placeholder","Select Currency",3,"options","filter","filterFields","showClear"],["pTemplate","item"],[1,"text-center","m-3"],["pButton","","data-dismiss","modal","icon","pi pi-save",1,"rounded-input",3,"disabled"],[1,"text-danger","m-1"],[1,"flex","align-items-center","gap-2"]],template:function(r,o){if(1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit(o.modelForm)}),e.TgZ(3,"div",2)(4,"div",3)(5,"label",4),e._uU(6,"ModelServ.Spec:"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.qZA()(),e.TgZ(9,"div",3)(10,"label",7),e._uU(11,"BlockingIndicator:"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",8),e.qZA()(),e.TgZ(14,"div",3)(15,"label",9),e._uU(16,"ServiceSelection:"),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"input",10),e.qZA()()(),e.TgZ(19,"p-card",11)(20,"div",12)(21,"label",13),e._uU(22,"Description:"),e.TgZ(23,"span",14),e._uU(24,"*"),e.qZA()(),e.TgZ(25,"div",15),e._UZ(26,"input",16),e.YNc(27,Fe,2,0,"div",17),e.qZA()(),e.TgZ(28,"div",12)(29,"label",18),e._uU(30,"SearchTerm:"),e.qZA(),e.TgZ(31,"div",15),e._UZ(32,"input",19),e.qZA()(),e.TgZ(33,"div",12)(34,"label",20),e._uU(35,"Currency:"),e.qZA(),e.TgZ(36,"p-dropdown",21),e.YNc(37,qe,3,2,"ng-template",22),e.qZA()()(),e.TgZ(38,"div",23)(39,"button",24),e._uU(40,"Add Model"),e.qZA()()()(),e._UZ(41,"p-confirmDialog")),2&r){let i;e.xp6(2),e.Q6J("formGroup",o.modelForm),e.xp6(25),e.Q6J("ngIf",(null==(i=o.modelForm.get("description"))||null==i.errors?null:i.errors.required)&&(null==(i=o.modelForm.get("description"))?null:i.touched)),e.xp6(9),e.Q6J("options",o.recordsCurrency)("filter",!0)("filterFields",e.DdM(9,Je))("showClear",!0),e.xp6(3),e.Q6J("disabled",o.modelForm.invalid),e.xp6(2),e.Akn(e.DdM(10,ke))}},dependencies:[d.O5,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.sg,a.u,C.Hq,p.jx,O.Lt,w.FN,N.Z,y.Q]})}return n})(),$=(()=>{class n{constructor(t){this.apiService=t,this.recordsChanged=new A.x,this.startedEditing=new A.x}getRecords(){this.apiService.get("modelspecdetails").subscribe(t=>{console.log(t),this.recordsApi=t,this.recordsChanged.next(this.recordsApi)})}getRecord(t){return this.apiService.getID("modelspecdetails",t)}addRecord(t){this.apiService.post("modelspecdetails",t).subscribe(r=>(console.log("modelspecDetail created:",r),this.getRecords(),r))}updateRecord(t,r){this.apiService.put("modelspecdetails",t,r).subscribe(o=>{console.log("modelspecDetail updated:",o),this.getRecords()})}deleteRecord(t){this.apiService.delete("modelspecdetails",t).subscribe(r=>{console.log("model spec deleted:",r),this.getRecords()})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(T.s))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var Ye=c(4300);function Qe(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.modelSpecRecord.description," ")}}function Be(n,l){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.modelSpecRecord.currencyCode," ")}}function Ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showDialog())}),e.qZA(),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteRecord())}),e.qZA(),e._UZ(2,"button",23)}}function Ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"input",25),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.searchTerm=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.searchTerm)}}function $e(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"th")(2,"p-checkbox",26),e.NdJ("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectAllRecords(o))}),e.qZA()(),e.TgZ(3,"th",27),e._uU(4,"Line"),e.qZA(),e.TgZ(5,"th",28),e._uU(6,"Service.No"),e.qZA(),e.TgZ(7,"th",28),e._uU(8,"ShortText"),e.qZA(),e.TgZ(9,"th",28),e._uU(10,"Quantity"),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"Formula"),e.qZA(),e.TgZ(13,"th",27),e._uU(14,"Formula Parameters"),e.qZA(),e.TgZ(15,"th",27),e._uU(16,"GrossPrice"),e.qZA(),e.TgZ(17,"th",27),e._uU(18,"Net Value"),e.qZA(),e.TgZ(19,"th",28),e._uU(20,"UnitOfMeasure"),e.TgZ(21,"span",29),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"th",27),e._uU(24,"Crcy"),e.qZA(),e.TgZ(25,"th",27),e._uU(26,"OverF.Percentage"),e.qZA(),e.TgZ(27,"th",27),e._uU(28,"PriceChangeAllowed"),e.qZA(),e.TgZ(29,"th",28),e._uU(30,"UnlimitedOverF"),e.qZA(),e.TgZ(31,"th",28),e._uU(32,"PricePerUnitOfMeasurement"),e.qZA(),e.TgZ(33,"th",28),e._uU(34,"Mat Group"),e.qZA(),e.TgZ(35,"th",27),e._uU(36,"Service Type"),e.qZA(),e.TgZ(37,"th",28),e._uU(38,"External.Service.No"),e.qZA(),e.TgZ(39,"th",28),e._uU(40,"Service Text"),e.qZA(),e.TgZ(41,"th",28),e._uU(42,"Line Text"),e.qZA(),e.TgZ(43,"th",27),e._uU(44,"PersonnelNumber"),e.qZA(),e.TgZ(45,"th",27),e._uU(46,"Line Type"),e.qZA(),e.TgZ(47,"th",27),e._uU(48,"Line Number"),e.qZA(),e.TgZ(49,"th",28),e._uU(50,"Alt"),e.qZA(),e.TgZ(51,"th",27),e._uU(52,"Bidder's Line"),e.qZA(),e.TgZ(53,"th",27),e._uU(54,"Supp.Line"),e.qZA(),e.TgZ(55,"th",27),e._uU(56,"Cstg Ls"),e.qZA(),e.TgZ(57,"th",27),e._uU(58,"Actions"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",t.records)}}function je(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.searchTerm,"::",t.description,"")}}const S=function(){return{standalone:!0}},j=function(){return["searchTerm","description"]};function He(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.serviceNumberCode=o)})("onChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onServiceNumberUpdateChange(o))}),e.YNc(1,je,3,2,"ng-template",42),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw();e.Q6J("options",r.recordsServiceNumber)("ngModel",t.serviceNumberCode)("ngModelOptions",e.DdM(9,S))("filter",!0)("filterFields",e.DdM(10,j))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function We(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.serviceNumberCode," ")}}function ze(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.shortText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.shortText)}}function Ve(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(4);return e.KtG(i.updateShortText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.updateSelectedServiceNumberRecord.description)}}function Xe(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.updateSelectedServiceNumberRecord.description," ")}}function et(n,l){if(1&n&&(e.YNc(0,ze,2,1,"ng-container",4),e.YNc(1,Ve,2,1,"ng-container",4),e.YNc(2,Xe,2,1,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",!t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",t.updateShortTextChangeAllowed&&t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.updateShortTextChangeAllowed&&t.updateSelectedServiceNumberRecord)}}function tt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.shortText," ")}}function nt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.quantity=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("min",0)("ngModel",t.quantity)}}function ot(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.resultAfterTestUpdate," ")}}function rt(n,l){if(1&n&&(e.YNc(0,nt,2,2,"ng-container",4),e.YNc(1,ot,2,1,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",!t.updatedFormulaRecord),e.xp6(1),e.Q6J("ngIf",t.updatedFormulaRecord&&t.resultAfterTestUpdate)}}function it(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.quantity," ")}}function lt(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.formula,"::",t.description,"")}}const H=function(){return["formula","description"]};function at(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.formulaCode=o)})("onChange",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onFormulaUpdateSelect(o))}),e.YNc(1,lt,3,2,"ng-template",42),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw();e.MGl("placeholder","`",t.formulaCode,"`"),e.Q6J("options",r.recordsFormula)("ngModel",t.formulaCode)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,H))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function st(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.formulaCode," ")}}function ct(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.grossPrice=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("min",0)("ngModel",t.grossPrice)}}function dt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.grossPrice," ")}}function pt(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3).$implicit,r=e.oxw();e.xp6(1),e.hij(" ",r.resultAfterTestUpdate*t.grossPrice," ")}}function _t(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",t.quantity*t.grossPrice," ")}}function ut(n,l){if(1&n&&(e.YNc(0,pt,2,1,"ng-container",4),e.YNc(1,_t,2,1,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.updatedFormulaRecord&&t.resultAfterTestUpdate),e.xp6(1),e.Q6J("ngIf",!t.updatedFormulaRecord)}}function mt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.netValue," ")}}function gt(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.updateSelectedServiceNumberRecord.baseUnitOfMeasurement," ")}}function ft(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}const D=function(){return["code","description"]};function ht(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",47),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.unitOfMeasurementCode=o)}),e.YNc(2,ft,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit,r=e.oxw();e.xp6(1),e.MGl("placeholder","`",t.unitOfMeasurementCode,"`"),e.Q6J("options",r.recordsUnitOfMeasure)("ngModel",t.unitOfMeasurementCode)("ngModelOptions",e.DdM(11,S))("filter",!0)("filterFields",e.DdM(12,D))("showClear",!0)("required",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function vt(n,l){if(1&n&&(e.YNc(0,gt,2,1,"ng-container",4),e.YNc(1,ht,3,13,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.updateSelectedServiceNumberRecord)}}function Ct(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.unitOfMeasurementCode," ")}}function bt(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.modelSpecRecord.currencyCode," ")}}function xt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.overFulfilmentPercentage=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("min",0)("ngModel",t.overFulfilmentPercentage)}}function Tt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.overFulfilmentPercentage," ")}}function Mt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.priceChangedAllowed=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.priceChangedAllowed)}}function St(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.priceChangedAllowed," ")}}function Zt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.unlimitedOverFulfillment=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.unlimitedOverFulfillment)}}function wt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.unlimitedOverFulfillment," ")}}function At(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",45),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.pricePerUnitOfMeasurement=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("min",0)("ngModel",t.pricePerUnitOfMeasurement)}}function yt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.pricePerUnitOfMeasurement," ")}}function Dt(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.updateSelectedServiceNumberRecord.materialGroupCode," ")}}function It(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function Nt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",49),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.materialGroupCode=o)}),e.YNc(2,It,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit,r=e.oxw();e.xp6(1),e.MGl("placeholder","`",t.materialGroupCode,"`"),e.Q6J("options",r.recordsMatGrp)("ngModel",t.materialGroupCode)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,D))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40)("appendTo","body")}}function Ut(n,l){if(1&n&&(e.YNc(0,Dt,2,1,"ng-container",4),e.YNc(1,Nt,3,12,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.updateSelectedServiceNumberRecord)}}function Ot(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.materialGroupCode," ")}}function Et(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.updateSelectedServiceNumberRecord.serviceTypeCode," ")}}function Rt(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.serviceId,"::",t.description,"")}}const W=function(){return["serviceId","description"]};function Pt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.serviceTypeCode=o)}),e.YNc(2,Rt,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit,r=e.oxw();e.xp6(1),e.MGl("placeholder","`",t.serviceTypeCode,"`"),e.Q6J("options",r.recordsServiceType)("ngModel",t.serviceTypeCode)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,W))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40)("appendTo","body")}}function Ft(n,l){if(1&n&&(e.YNc(0,Et,2,1,"ng-container",4),e.YNc(1,Pt,3,12,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.updateSelectedServiceNumberRecord)}}function qt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.serviceTypeCode," ")}}function Jt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.externalServiceNumber=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.externalServiceNumber)}}function kt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.externalServiceNumber," ")}}function Lt(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.updateSelectedServiceNumberRecord.serviceText," ")}}function Yt(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(3).$implicit;return e.KtG(i.serviceText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngModel",t.serviceText)}}function Qt(n,l){if(1&n&&(e.YNc(0,Lt,2,1,"ng-container",4),e.YNc(1,Yt,2,1,"ng-container",4)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.updateSelectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.updateSelectedServiceNumberRecord)}}function Bt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.serviceText," ")}}function Kt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.lineText=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.lineText)}}function Gt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.lineText," ")}}function $t(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function jt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.personnelNumberCode=o)}),e.YNc(1,$t,3,2,"ng-template",42),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw();e.MGl("placeholder","`",t.personnelNumberCode,"`"),e.Q6J("options",r.recordsPersonnelNumber)("ngModel",t.personnelNumberCode)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,D))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function Ht(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.personnelNumberCode," ")}}function Wt(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function zt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.lineTypeCode=o)}),e.YNc(1,Wt,3,2,"ng-template",42),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,r=e.oxw();e.MGl("placeholder","`",t.lineTypeCode,"`"),e.Q6J("options",r.recordsLineType)("ngModel",t.lineTypeCode)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,D))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function Vt(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.lineTypeCode," ")}}function Xt(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.lineNumber=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.lineNumber)}}function en(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.lineNumber," ")}}function tn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.alternatives=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.alternatives)}}function nn(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.alternatives," ")}}function on(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.biddersLine=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.biddersLine)}}function rn(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.biddersLine," ")}}function ln(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.supplementaryLine=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.supplementaryLine)}}function an(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.supplementaryLine," ")}}function sn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit;return e.KtG(i.lotSizeForCostingIsOne=o)}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("ngModel",t.lotSizeForCostingIsOne)}}function cn(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw(2).$implicit;e.hij(" ",t.lotSizeForCostingIsOne," ")}}function dn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw();return e.KtG(i.onRowEditInit(o))}),e.qZA()}}function pn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw();return e.KtG(i.onRowEditSave(o.modelSpecDetailsCode,o))}),e.qZA()}}function _n(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2),i=o.$implicit,s=o.rowIndex,_=e.oxw();return e.KtG(_.onRowEditCancel(i,s))}),e.qZA()}}function un(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",31)(1,"td")(2,"p-checkbox",32),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedAllRecords=o)})("onChange",function(o){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onRecordSelectionChange(o,i))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",33)(6,"p-cellEditor"),e.YNc(7,He,2,11,"ng-template",34),e.YNc(8,We,1,1,"ng-template",35),e.qZA()(),e.TgZ(9,"td")(10,"p-cellEditor"),e.YNc(11,et,3,3,"ng-template",34),e.YNc(12,tt,1,1,"ng-template",35),e.qZA()(),e.TgZ(13,"td")(14,"p-cellEditor"),e.YNc(15,rt,2,2,"ng-template",34),e.YNc(16,it,1,1,"ng-template",35),e.qZA()(),e.TgZ(17,"td",33)(18,"p-cellEditor"),e.YNc(19,at,2,12,"ng-template",34),e.YNc(20,st,1,1,"ng-template",35),e.qZA()(),e.TgZ(21,"td")(22,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openPopupUpdate())}),e._uU(23,"Enter Parameters"),e.qZA()(),e.TgZ(24,"td")(25,"p-cellEditor"),e.YNc(26,ct,1,2,"ng-template",34),e.YNc(27,dt,1,1,"ng-template",35),e.qZA()(),e.TgZ(28,"td")(29,"p-cellEditor"),e.YNc(30,ut,2,2,"ng-template",34),e.YNc(31,mt,1,1,"ng-template",35),e.qZA()(),e.TgZ(32,"td",33)(33,"p-cellEditor"),e.YNc(34,vt,2,2,"ng-template",34),e.YNc(35,Ct,1,1,"ng-template",35),e.qZA()(),e.TgZ(36,"td"),e.YNc(37,bt,2,1,"ng-container",4),e.qZA(),e.TgZ(38,"td")(39,"p-cellEditor"),e.YNc(40,xt,1,2,"ng-template",34),e.YNc(41,Tt,1,1,"ng-template",35),e.qZA()(),e.TgZ(42,"td")(43,"p-cellEditor"),e.YNc(44,Mt,1,1,"ng-template",34),e.YNc(45,St,1,1,"ng-template",35),e.qZA()(),e.TgZ(46,"td")(47,"p-cellEditor"),e.YNc(48,Zt,1,1,"ng-template",34),e.YNc(49,wt,1,1,"ng-template",35),e.qZA()(),e.TgZ(50,"td")(51,"p-cellEditor"),e.YNc(52,At,1,2,"ng-template",34),e.YNc(53,yt,1,1,"ng-template",35),e.qZA()(),e.TgZ(54,"td",33)(55,"p-cellEditor"),e.YNc(56,Ut,2,2,"ng-template",34),e.YNc(57,Ot,1,1,"ng-template",35),e.qZA()(),e.TgZ(58,"td",33)(59,"p-cellEditor"),e.YNc(60,Ft,2,2,"ng-template",34),e.YNc(61,qt,1,1,"ng-template",35),e.qZA()(),e.TgZ(62,"td")(63,"p-cellEditor"),e.YNc(64,Jt,1,1,"ng-template",34),e.YNc(65,kt,1,1,"ng-template",35),e.qZA()(),e.TgZ(66,"td")(67,"p-cellEditor"),e.YNc(68,Qt,2,2,"ng-template",34),e.YNc(69,Bt,1,1,"ng-template",35),e.qZA()(),e.TgZ(70,"td")(71,"p-cellEditor"),e.YNc(72,Kt,1,1,"ng-template",34),e.YNc(73,Gt,1,1,"ng-template",35),e.qZA()(),e.TgZ(74,"td",33)(75,"p-cellEditor"),e.YNc(76,jt,2,12,"ng-template",34),e.YNc(77,Ht,1,1,"ng-template",35),e.qZA()(),e.TgZ(78,"td",33)(79,"p-cellEditor"),e.YNc(80,zt,2,12,"ng-template",34),e.YNc(81,Vt,1,1,"ng-template",35),e.qZA()(),e.TgZ(82,"td")(83,"p-cellEditor"),e.YNc(84,Xt,1,1,"ng-template",34),e.YNc(85,en,1,1,"ng-template",35),e.qZA()(),e.TgZ(86,"td")(87,"p-cellEditor"),e.YNc(88,tn,1,1,"ng-template",34),e.YNc(89,nn,1,1,"ng-template",35),e.qZA()(),e.TgZ(90,"td")(91,"p-cellEditor"),e.YNc(92,on,1,1,"ng-template",34),e.YNc(93,rn,1,1,"ng-template",35),e.qZA()(),e.TgZ(94,"td")(95,"p-cellEditor"),e.YNc(96,ln,1,1,"ng-template",34),e.YNc(97,an,1,1,"ng-template",35),e.qZA()(),e.TgZ(98,"td")(99,"p-cellEditor"),e.YNc(100,sn,1,1,"ng-template",34),e.YNc(101,cn,1,1,"ng-template",35),e.qZA()(),e.TgZ(102,"td")(103,"div",37),e.YNc(104,dn,1,0,"button",38),e.YNc(105,pn,1,0,"button",39),e.YNc(106,_n,1,0,"button",40),e.qZA()()()}if(2&n){const t=e.oxw(),r=t.$implicit,o=t.rowIndex,i=t.editing,s=e.oxw();e.Q6J("pEditableRow",r),e.xp6(2),e.Q6J("ngModel",s.selectedAllRecords)("value",r),e.xp6(2),e.hij(" ",s.rowIndex+o+1," "),e.xp6(33),e.Q6J("ngIf",s.modelSpecRecord),e.xp6(67),e.Q6J("ngIf",!i),e.xp6(1),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("ngIf",i)}}function mn(n,l){if(1&n&&e.YNc(0,un,107,8,"tr",30),2&n){const t=l.$implicit,r=l.rowIndex,o=e.oxw();e.Q6J("ngIf",o.isMatch(t,r))}}function gn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.searchTerm,"::",t.description,"")}}function fn(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.newService.shortText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.newService.shortText)}}function hn(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedServiceNumberRecord.description=o)})("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.shortText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.selectedServiceNumberRecord.description)}}function vn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedServiceNumberRecord.description," ")}}function Cn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.resultAfterTest," ")}}function bn(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",72),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.newService.quantity=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("min",0)("ngModel",t.newService.quantity)}}function xn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.formula,"::",t.description,"")}}function Tn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.resultAfterTest*t.newService.grossPrice," ")}}function Mn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.newService.quantity*t.newService.grossPrice," ")}}function Sn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedServiceNumberRecord.baseUnitOfMeasurement," ")}}function Zn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function wn(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",73),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedUnitOfMeasure=o)}),e.YNc(2,Zn,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.recordsUnitOfMeasure)("ngModel",t.selectedUnitOfMeasure)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,D))("showClear",!0)("required",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function An(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.modelSpecRecord.currencyCode," ")}}function yn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedServiceNumberRecord.materialGroupCode," ")}}function Dn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function In(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",74),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedMatGrp=o)}),e.YNc(2,Dn,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.recordsMatGrp)("ngModel",t.selectedMatGrp)("ngModelOptions",e.DdM(10,S))("filter",!0)("filterFields",e.DdM(11,D))("showClear",!0)("required",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function Nn(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedServiceNumberRecord.serviceTypeCode," ")}}function Un(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.serviceId,"::",t.description,"")}}function On(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dropdown",75),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.selectedServiceType=o)}),e.YNc(2,Un,3,2,"ng-template",42),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("options",t.recordsServiceType)("ngModel",t.selectedServiceType)("ngModelOptions",e.DdM(9,S))("filter",!0)("filterFields",e.DdM(10,W))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40)}}function En(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.selectedServiceNumberRecord.serviceText," ")}}function Rn(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.newService.serviceText=o)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngModel",t.newService.serviceText)}}function Pn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function Fn(n,l){if(1&n&&(e.TgZ(0,"div",43)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function qn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-checkbox",55),e.qZA(),e._UZ(3,"td"),e.TgZ(4,"td")(5,"p-dropdown",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedServiceNumber=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onServiceNumberChange(o))}),e.YNc(6,gn,3,2,"ng-template",42),e.qZA()(),e.TgZ(7,"td"),e.YNc(8,fn,2,1,"ng-container",4),e.YNc(9,hn,2,1,"ng-container",4),e.YNc(10,vn,2,1,"ng-container",4),e.qZA(),e.TgZ(11,"td"),e.YNc(12,Cn,2,1,"ng-container",4),e.YNc(13,bn,2,2,"ng-container",4),e.qZA(),e.TgZ(14,"td")(15,"p-dropdown",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedFormula=o)})("onChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.onFormulaSelect(o))}),e.YNc(16,xn,3,2,"ng-template",42),e.qZA()(),e.TgZ(17,"td")(18,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openPopup())}),e._uU(19,"Enter Parameters"),e.qZA()(),e.TgZ(20,"td")(21,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.grossPrice=o)}),e.qZA()(),e.TgZ(22,"td"),e.YNc(23,Tn,2,1,"ng-container",4),e.YNc(24,Mn,2,1,"ng-container",4),e.qZA(),e.TgZ(25,"td"),e.YNc(26,Sn,2,1,"ng-container",4),e.YNc(27,wn,3,12,"ng-container",4),e.qZA(),e.TgZ(28,"td"),e.YNc(29,An,2,1,"ng-container",4),e.qZA(),e.TgZ(30,"td")(31,"input",58),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.overFulfilmentPercentage=o)}),e.qZA()(),e.TgZ(32,"td")(33,"input",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.priceChangedAllowed=o)}),e.qZA()(),e.TgZ(34,"td")(35,"input",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.unlimitedOverFulfillment=o)}),e.qZA()(),e.TgZ(36,"td")(37,"input",61),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.pricePerUnitOfMeasurement=o)}),e.qZA()(),e.TgZ(38,"td"),e.YNc(39,yn,2,1,"ng-container",4),e.YNc(40,In,3,12,"ng-container",4),e.qZA(),e.TgZ(41,"td"),e.YNc(42,Nn,2,1,"ng-container",4),e.YNc(43,On,3,11,"ng-container",4),e.qZA(),e.TgZ(44,"td")(45,"input",62),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.externalServiceNumber=o)}),e.qZA()(),e.TgZ(46,"td"),e.YNc(47,En,2,1,"ng-container",4),e.YNc(48,Rn,2,1,"ng-container",4),e.qZA(),e.TgZ(49,"td")(50,"input",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.lineText=o)}),e.qZA()(),e.TgZ(51,"td")(52,"p-dropdown",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedPersonnelNumber=o)}),e.YNc(53,Pn,3,2,"ng-template",42),e.qZA()(),e.TgZ(54,"td")(55,"p-dropdown",65),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedLineType=o)}),e.YNc(56,Fn,3,2,"ng-template",42),e.qZA()(),e.TgZ(57,"td")(58,"input",66),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.lineNumber=o)}),e.qZA()(),e.TgZ(59,"td")(60,"input",67),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.alternatives=o)}),e.qZA()(),e.TgZ(61,"td")(62,"input",68),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.biddersLine=o)}),e.qZA()(),e.TgZ(63,"td")(64,"input",69),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.supplementaryLine=o)}),e.qZA()(),e.TgZ(65,"td")(66,"input",70),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newService.lotSizeForCostingIsOne=o)}),e.qZA()(),e.TgZ(67,"td")(68,"button",71),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addRow())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("value",t.newService),e.xp6(3),e.Q6J("options",t.recordsServiceNumber)("ngModel",t.selectedServiceNumber)("ngModelOptions",e.DdM(70,S))("filter",!0)("filterFields",e.DdM(71,j))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(3),e.Q6J("ngIf",!t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",t.shortTextChangeAllowed&&t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.shortTextChangeAllowed&&t.selectedServiceNumberRecord),e.xp6(2),e.Q6J("ngIf",t.selectedFormula&&t.selectedFormulaRecord&&t.resultAfterTest),e.xp6(1),e.Q6J("ngIf",!t.selectedFormulaRecord),e.xp6(2),e.Q6J("options",t.recordsFormula)("ngModel",t.selectedFormula)("ngModelOptions",e.DdM(72,S))("filter",!0)("filterFields",e.DdM(73,H))("showClear",!0)("required",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(6),e.Q6J("min",0)("ngModel",t.newService.grossPrice),e.xp6(2),e.Q6J("ngIf",t.selectedFormulaRecord&&t.resultAfterTest),e.xp6(1),e.Q6J("ngIf",!t.selectedFormulaRecord),e.xp6(2),e.Q6J("ngIf",t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.selectedServiceNumberRecord),e.xp6(2),e.Q6J("ngIf",t.modelSpecRecord),e.xp6(2),e.Q6J("min",0)("ngModel",t.newService.overFulfilmentPercentage),e.xp6(2),e.Q6J("ngModel",t.newService.priceChangedAllowed),e.xp6(2),e.Q6J("ngModel",t.newService.unlimitedOverFulfillment),e.xp6(2),e.Q6J("min",0)("ngModel",t.newService.pricePerUnitOfMeasurement),e.xp6(2),e.Q6J("ngIf",t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.selectedServiceNumberRecord),e.xp6(2),e.Q6J("ngIf",t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.selectedServiceNumberRecord),e.xp6(2),e.Q6J("ngModel",t.newService.externalServiceNumber),e.xp6(2),e.Q6J("ngIf",t.selectedServiceNumberRecord),e.xp6(1),e.Q6J("ngIf",!t.selectedServiceNumberRecord),e.xp6(2),e.Q6J("ngModel",t.newService.lineText),e.xp6(2),e.Q6J("options",t.recordsPersonnelNumber)("ngModel",t.selectedPersonnelNumber)("ngModelOptions",e.DdM(74,S))("filter",!0)("filterFields",e.DdM(75,D))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(3),e.Q6J("options",t.recordsLineType)("ngModel",t.selectedLineType)("ngModelOptions",e.DdM(76,S))("filter",!0)("filterFields",e.DdM(77,D))("showClear",!0)("appendTo","body")("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(3),e.Q6J("ngModel",t.newService.lineNumber),e.xp6(2),e.Q6J("ngModel",t.newService.alternatives),e.xp6(2),e.Q6J("ngModel",t.newService.biddersLine),e.xp6(2),e.Q6J("ngModel",t.newService.supplementaryLine),e.xp6(2),e.Q6J("ngModel",t.newService.lotSizeForCostingIsOne),e.xp6(2),e.Q6J("disabled",!t.selectedServiceNumberRecord&&!t.selectedUnitOfMeasure)}}function Jn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label",81),e._uU(2),e.qZA(),e.TgZ(3,"input",82),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.parameterValues[s]=o)}),e.qZA()()}if(2&n){const t=l.$implicit,r=e.oxw(2);e.xp6(2),e.hij("",t,":"),e.xp6(1),e.Q6J("min",0)("ngModel",r.parameterValues[t])}}function kn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePopup())}),e._uU(3,"\xd7"),e.qZA(),e.TgZ(4,"h3"),e._uU(5,"Enter Parameters"),e.qZA(),e.YNc(6,Jn,4,3,"div",79),e.TgZ(7,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveParameters())}),e._uU(8,"Save"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.selectedFormulaRecord.parameterIds)}}function Ln(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"label",81),e._uU(2),e.qZA(),e.TgZ(3,"input",82),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.parameterValuesUpdate[s]=o)}),e.qZA()()}if(2&n){const t=l.$implicit,r=e.oxw(2);e.xp6(2),e.hij("",t,":"),e.xp6(1),e.Q6J("min",0)("ngModel",r.parameterValuesUpdate[t])}}function Yn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"button",78),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePopup())}),e._uU(3,"\xd7"),e.qZA(),e.TgZ(4,"h3"),e._uU(5,"Enter Parameters"),e.qZA(),e.YNc(6,Ln,4,3,"div",79),e.TgZ(7,"button",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveParameters())}),e._uU(8,"Save"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.updatedFormulaRecord.parameterIds)}}function Qn(n,l){1&n&&(e.TgZ(0,"div",83)(1,"span",84),e._uU(2,"Model Details"),e.qZA()())}function Bn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.visible=!1)}),e.qZA()}2&n&&e.Q6J("autofocus",!0)}const Kn=function(){return{"min-width":"50rem"}},Gn=function(){return{width:"450px"}},$n=function(){return{width:"50vw"}};let jn=(()=>{class n{constructor(t,r,o,i,s){this.apiService=t,this.router=r,this.modelSpecDetailsService=o,this.messageService=i,this.confirmationService=s,this.records=[],this.rowIndex=0,this.dontSelectServiceNumber=!0,this.totalValue=0,this.shortText="",this.updateShortText="",this.shortTextChangeAllowed=!1,this.updateShortTextChangeAllowed=!1,this.modelSpecDetailsCodes=[],this.visible=!1,this.selectedRecords=[],this.selectedAllRecords=[],this.clonedModelSpecDetails={},this.newService={serviceNumberCode:0,lineTypeCode:"",unitOfMeasurementCode:"",currencyCode:"",personnelNumberCode:"",serviceTypeCode:"",materialGroupCode:"",formulaCode:"",selectionCheckbox:!1,lineIndex:0,deletionIndicator:!1,shortText:"",quantity:0,grossPrice:0,overFulfilmentPercentage:0,priceChangedAllowed:!1,unlimitedOverFulfillment:!1,pricePerUnitOfMeasurement:0,externalServiceNumber:"",netValue:0,serviceText:"",lineText:"",lineNumber:"",alternatives:"",biddersLine:!1,supplementaryLine:!1,lotSizeForCostingIsOne:!1,modelSpecDetailsCode:0},this.showPopup=!1,this.parameterValues={},this.showPopupUpdate=!1,this.parameterValuesUpdate={},this.modelSpecRecord=this.router.getCurrentNavigation()?.extras.state?.Record,this.modelSpecRecord?this.modelSpecDetailsCodes=this.modelSpecRecord.modelSpecDetailsCode:this.modelSpecRecord=void 0}ngOnInit(){if(this.modelSpecRecord){console.log(this.modelSpecRecord);const t=this.modelSpecRecord.modelSpecDetailsCode.map(r=>this.apiService.getID("modelspecdetails",r));(0,Ye.D)(t).subscribe(r=>{this.records=r.sort((o,i)=>i.modelSpecDetailsCode-o.modelSpecDetailsCode),this.totalValue=r.reduce((o,i)=>o+i.netValue,0),console.log("Total Value:",this.totalValue)})}this.apiService.get("servicenumbers").subscribe(t=>{this.recordsServiceNumber=t.filter(r=>!1===r.deletionIndicator)}),this.apiService.get("measurements").subscribe(t=>{this.recordsUnitOfMeasure=t}),this.apiService.get("servicetypes").subscribe(t=>{this.recordsServiceType=t}),this.apiService.get("personnelnumbers").subscribe(t=>{this.recordsPersonnelNumber=t}),this.apiService.get("linetypes").subscribe(t=>{this.recordsLineType=t}),this.apiService.get("formulas").subscribe(t=>{this.recordsFormula=t}),this.apiService.get("materialgroups").subscribe(t=>{this.recordsMatGrp=t})}isMatch(t,r){return!this.searchTerm||this.rowIndex+r+1===this.searchTerm}showDialog(){this.visible=!0}onRecordSelectionChange(t,r){this.selectedDetailsForDisplay=r,this.selectedRecords=t.checked}onSelectAllRecords(t){this.selectedAllRecords=Array.isArray(t.checked)&&t.checked.length>0?[...this.records]:[]}onFormulaSelect(t){const r=this.recordsFormula.find(o=>o.formula===this.selectedFormula);r?this.selectedFormulaRecord=r:(console.log("no Formula"),this.selectedFormulaRecord=void 0)}onFormulaUpdateSelect(t){const r=this.recordsFormula.find(o=>o.formula===t.value);r?this.updatedFormulaRecord=r:(this.updatedFormulaRecord=void 0,console.log(this.updatedFormulaRecord))}onServiceNumberChange(t){const r=this.recordsServiceNumber.find(o=>o.serviceNumberCode===this.selectedServiceNumber);r?(this.selectedServiceNumberRecord=r,this.shortTextChangeAllowed=this.selectedServiceNumberRecord?.shortTextChangeAllowed||!1,this.shortText=""):(console.log("no service number"),this.dontSelectServiceNumber=!1,this.selectedServiceNumberRecord=void 0)}onServiceNumberUpdateChange(t){const r=this.recordsServiceNumber.find(o=>o.serviceNumberCode===t.value);r?(this.updateSelectedServiceNumberRecord=r,this.updateShortTextChangeAllowed=this.updateSelectedServiceNumberRecord?.shortTextChangeAllowed||!1,this.updateShortText=""):this.updateSelectedServiceNumberRecord=void 0}deleteRecord(){this.selectedRecords.length&&this.confirmationService.confirm({message:"Are you sure you want to delete the selected record?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{for(const t of this.selectedRecords){console.log(this.modelSpecRecord);const r={...t,deletionIndicator:!0};if(console.log(r),this.modelSpecRecord){const o=this.modelSpecRecord.modelSpecDetailsCode.indexOf(r.modelSpecDetailsCode);console.log(o),-1!==o&&this.modelSpecRecord.modelSpecDetailsCode.splice(o,1),console.log(this.modelSpecRecord),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe({next:i=>{console.log("Model updated and delete from it modelspec details:",i),this.totalValue=0,this.ngOnInit()},error:i=>{console.log(i)},complete:()=>{}})}}this.messageService.add({severity:"success",summary:"Successfully",detail:"Deleted",life:3e3}),this.selectedRecords=[]}}),this.selectedAllRecords.length>0&&this.confirmationService.confirm({message:"Are you sure you want to delete the selected record?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{for(const t of this.selectedAllRecords){const r={...t,deletionIndicator:!0};if(console.log(r),this.modelSpecRecord){const o=this.modelSpecRecord.modelSpecDetailsCode.indexOf(r.modelSpecDetailsCode);console.log(o),-1!==o&&this.modelSpecRecord.modelSpecDetailsCode.splice(o,1),console.log(this.modelSpecRecord),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe({next:i=>{console.log("Model updated and delete from it modelspec details:",i),this.totalValue=0,this.ngOnInit()},error:i=>{console.log(i)},complete:()=>{}})}}this.messageService.add({severity:"success",summary:"Successfully",detail:"Deleted",life:3e3}),this.selectedAllRecords=[]}})}onRowEditInit(t){this.clonedModelSpecDetails[t.modelSpecDetailsCode]={...t}}onRowEditSave(t,r){if(console.log(this.updateSelectedServiceNumber),this.updateSelectedServiceNumberRecord){const o={...r,unitOfMeasurementCode:this.updateSelectedServiceNumberRecord.baseUnitOfMeasurement,materialGroupCode:this.updateSelectedServiceNumberRecord.materialGroupCode,serviceTypeCode:this.updateSelectedServiceNumberRecord.serviceTypeCode,shortText:this.updateSelectedServiceNumberRecord.description,serviceText:this.updateSelectedServiceNumberRecord.serviceText};console.log(o),this.apiService.put("modelspecdetails",t,o).subscribe(i=>{console.log("modelspecDetail updated:",i),this.messageService.add(i?{severity:"success",summary:"Success",detail:"Record is updated"}:{severity:"error",summary:"Error",detail:"Invalid Data"}),console.log(this.totalValue),this.totalValue=0,this.ngOnInit()})}if(this.updateSelectedServiceNumberRecord&&this.updatedFormulaRecord&&this.resultAfterTestUpdate){console.log(r),console.log(this.updateSelectedServiceNumberRecord);const o={...r,unitOfMeasurementCode:this.updateSelectedServiceNumberRecord.baseUnitOfMeasurement,materialGroupCode:this.updateSelectedServiceNumberRecord.materialGroupCode,serviceTypeCode:this.updateSelectedServiceNumberRecord.serviceTypeCode,shortText:this.updateSelectedServiceNumberRecord.description,serviceText:this.updateSelectedServiceNumberRecord.serviceText,quantity:this.resultAfterTestUpdate};console.log(o),this.apiService.put("modelspecdetails",t,o).subscribe(i=>{console.log("modelspecDetail updated:",i),this.messageService.add(i?{severity:"success",summary:"Success",detail:"Record is updated"}:{severity:"error",summary:"Error",detail:"Invalid Data"}),console.log(this.totalValue),this.totalValue=0,this.ngOnInit(),console.log(this.totalValue)})}if(this.updatedFormulaRecord&&this.resultAfterTestUpdate){const o={...r,quantity:this.resultAfterTestUpdate};console.log(o),this.apiService.put("modelspecdetails",t,o).subscribe(i=>{console.log("modelspecDetail updated:",i),this.messageService.add(i?{severity:"success",summary:"Success",detail:"Record is updated"}:{severity:"error",summary:"Error",detail:"Invalid Data"}),console.log(this.totalValue),this.totalValue=0,this.ngOnInit(),console.log(this.totalValue)})}!this.updateSelectedServiceNumberRecord&&!this.updatedFormulaRecord&&!this.resultAfterTestUpdate&&this.apiService.put("modelspecdetails",t,r).subscribe(o=>{console.log("modelspecDetail updated:",o),this.messageService.add(o?{severity:"success",summary:"Success",detail:"Record is updated"}:{severity:"error",summary:"Error",detail:"Invalid Data"}),this.totalValue=0,this.ngOnInit()})}onRowEditCancel(t,r){this.records[r]=this.clonedModelSpecDetails[t.modelSpecDetailsCode],delete this.clonedModelSpecDetails[t.modelSpecDetailsCode]}addRow(){if(this.selectedServiceNumberRecord||this.selectedFormulaRecord)if(!this.selectedServiceNumberRecord&&this.selectedFormulaRecord&&this.resultAfterTest){const t={lineTypeCode:this.selectedLineType,unitOfMeasurementCode:this.selectedUnitOfMeasure,currencyCode:this.modelSpecRecord?.currencyCode,personnelNumberCode:this.selectedPersonnelNumber,serviceTypeCode:this.selectedServiceType,materialGroupCode:this.selectedMatGrp,formulaCode:this.selectedFormula,deletionIndicator:this.newService.deletionIndicator,shortText:this.newService.shortText,quantity:this.resultAfterTest,grossPrice:this.newService.grossPrice,overFulfilmentPercentage:this.newService.overFulfilmentPercentage,priceChangedAllowed:this.newService.priceChangedAllowed,unlimitedOverFulfillment:this.newService.unlimitedOverFulfillment,pricePerUnitOfMeasurement:this.newService.pricePerUnitOfMeasurement,externalServiceNumber:this.newService.externalServiceNumber,netValue:this.newService.netValue,serviceText:this.newService.serviceText,lineText:this.newService.lineText,lineNumber:this.newService.lineNumber,alternatives:this.newService.alternatives,biddersLine:this.newService.biddersLine,supplementaryLine:this.newService.supplementaryLine,lotSizeForCostingIsOne:this.newService.lotSizeForCostingIsOne};(0===this.resultAfterTest||0===this.newService.grossPrice)&&this.messageService.add({severity:"error",summary:"Error",detail:"Quantity and GrossPrice are required",life:3e3}),console.log(t);const r=Object.fromEntries(Object.entries(t).filter(([o,i])=>""!==i&&0!==i&&null!=i));console.log(r),this.apiService.post("modelspecdetails",r).subscribe(o=>{console.log("modelspecdetails created:",o),o&&(this.resetNewService(),this.selectedFormulaRecord=void 0,console.log(this.newService),this.modelSpecRecord&&(this.modelSpecRecord.modelSpecDetailsCode.push(o.modelSpecDetailsCode),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe(s=>{console.log("Model updated:",s)}))),console.log(o),this.totalValue=0,this.ngOnInit()})}else if(!this.selectedServiceNumberRecord||this.selectedFormulaRecord||this.resultAfterTest){if(this.selectedServiceNumberRecord&&this.selectedFormulaRecord&&this.resultAfterTest){const t={serviceNumberCode:this.selectedServiceNumber,lineTypeCode:this.selectedLineType,unitOfMeasurementCode:this.selectedServiceNumberRecord.baseUnitOfMeasurement,currencyCode:this.modelSpecRecord?.currencyCode,personnelNumberCode:this.selectedPersonnelNumber,serviceTypeCode:this.selectedServiceNumberRecord.serviceTypeCode,materialGroupCode:this.selectedServiceNumberRecord.materialGroupCode,formulaCode:this.selectedFormula,deletionIndicator:this.newService.deletionIndicator,shortText:this.selectedServiceNumberRecord.description,quantity:this.resultAfterTest,grossPrice:this.newService.grossPrice,overFulfilmentPercentage:this.newService.overFulfilmentPercentage,priceChangedAllowed:this.newService.priceChangedAllowed,unlimitedOverFulfillment:this.newService.unlimitedOverFulfillment,pricePerUnitOfMeasurement:this.newService.pricePerUnitOfMeasurement,externalServiceNumber:this.newService.externalServiceNumber,netValue:this.newService.netValue,serviceText:this.selectedServiceNumberRecord.serviceText,lineText:this.newService.lineText,lineNumber:this.newService.lineNumber,alternatives:this.newService.alternatives,biddersLine:this.newService.biddersLine,supplementaryLine:this.newService.supplementaryLine,lotSizeForCostingIsOne:this.newService.lotSizeForCostingIsOne};(0===this.resultAfterTest||0===this.newService.grossPrice)&&this.messageService.add({severity:"error",summary:"Error",detail:"Quantity and GrossPrice are required",life:3e3}),console.log(t);const r=Object.fromEntries(Object.entries(t).filter(([o,i])=>""!==i&&0!==i&&null!=i));console.log(r),this.apiService.post("modelspecdetails",r).subscribe(o=>{console.log("modelspecdetails created:",o),o&&(this.resetNewService(),this.selectedFormulaRecord=void 0,this.selectedServiceNumberRecord=void 0,console.log(this.newService),this.modelSpecRecord&&(this.modelSpecRecord.modelSpecDetailsCode.push(o.modelSpecDetailsCode),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe(s=>{console.log("Model updated:",s)}))),console.log(o),this.totalValue=0,this.ngOnInit()})}}else{const t={serviceNumberCode:this.selectedServiceNumber,lineTypeCode:this.selectedLineType,unitOfMeasurementCode:this.selectedServiceNumberRecord.baseUnitOfMeasurement,currencyCode:this.modelSpecRecord?.currencyCode,personnelNumberCode:this.selectedPersonnelNumber,serviceTypeCode:this.selectedServiceNumberRecord.serviceTypeCode,materialGroupCode:this.selectedServiceNumberRecord.materialGroupCode,formulaCode:this.selectedFormula,deletionIndicator:this.newService.deletionIndicator,shortText:this.selectedServiceNumberRecord.description,quantity:this.newService.quantity,grossPrice:this.newService.grossPrice,overFulfilmentPercentage:this.newService.overFulfilmentPercentage,priceChangedAllowed:this.newService.priceChangedAllowed,unlimitedOverFulfillment:this.newService.unlimitedOverFulfillment,pricePerUnitOfMeasurement:this.newService.pricePerUnitOfMeasurement,externalServiceNumber:this.newService.externalServiceNumber,netValue:this.newService.netValue,serviceText:this.selectedServiceNumberRecord.serviceText,lineText:this.newService.lineText,lineNumber:this.newService.lineNumber,alternatives:this.newService.alternatives,biddersLine:this.newService.biddersLine,supplementaryLine:this.newService.supplementaryLine,lotSizeForCostingIsOne:this.newService.lotSizeForCostingIsOne};(0===this.newService.quantity||0===this.newService.grossPrice)&&this.messageService.add({severity:"error",summary:"Error",detail:"Quantity and GrossPrice are required",life:3e3}),console.log(t);const r=Object.fromEntries(Object.entries(t).filter(([o,i])=>""!==i&&0!==i&&null!=i));console.log(r),this.apiService.post("modelspecdetails",r).subscribe(o=>{console.log("modelspecdetails created:",o),o&&(this.resetNewService(),this.selectedFormulaRecord=void 0,this.selectedServiceNumberRecord=void 0,console.log(this.newService),this.modelSpecRecord&&(this.modelSpecRecord.modelSpecDetailsCode.push(o.modelSpecDetailsCode),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe(s=>{console.log("Model updated:",s)}))),console.log(o),this.totalValue=0,this.ngOnInit()})}else{const t={lineTypeCode:this.selectedLineType,unitOfMeasurementCode:this.selectedUnitOfMeasure,currencyCode:this.modelSpecRecord?.currencyCode,personnelNumberCode:this.selectedPersonnelNumber,serviceTypeCode:this.selectedServiceType,materialGroupCode:this.selectedMatGrp,formulaCode:this.selectedFormula,deletionIndicator:this.newService.deletionIndicator,shortText:this.newService.shortText,quantity:this.newService.quantity,grossPrice:this.newService.grossPrice,overFulfilmentPercentage:this.newService.overFulfilmentPercentage,priceChangedAllowed:this.newService.priceChangedAllowed,unlimitedOverFulfillment:this.newService.unlimitedOverFulfillment,pricePerUnitOfMeasurement:this.newService.pricePerUnitOfMeasurement,externalServiceNumber:this.newService.externalServiceNumber,netValue:this.newService.netValue,serviceText:this.newService.serviceText,lineText:this.newService.lineText,lineNumber:this.newService.lineNumber,alternatives:this.newService.alternatives,biddersLine:this.newService.biddersLine,supplementaryLine:this.newService.supplementaryLine,lotSizeForCostingIsOne:this.newService.lotSizeForCostingIsOne};(0===this.newService.quantity||0===this.newService.grossPrice)&&this.messageService.add({severity:"error",summary:"Error",detail:"Quantity and GrossPrice are required",life:3e3}),console.log(t);const r=Object.fromEntries(Object.entries(t).filter(([o,i])=>""!==i&&0!==i&&null!=i));console.log(r),this.apiService.post("modelspecdetails",r).subscribe(o=>{console.log("modelspecdetails created:",o),o&&(this.resetNewService(),console.log(this.newService),this.modelSpecRecord&&(this.modelSpecRecord.modelSpecDetailsCode.push(o.modelSpecDetailsCode),this.apiService.put("modelspecs",this.modelSpecRecord.modelSpecCode,this.modelSpecRecord).subscribe(s=>{console.log("Model updated:",s)}))),console.log(o),this.totalValue=0,this.ngOnInit()})}}resetNewService(){this.newService={serviceNumberCode:0,lineTypeCode:"",unitOfMeasurementCode:"",currencyCode:"",personnelNumberCode:"",serviceTypeCode:"",materialGroupCode:"",formulaCode:"",selectionCheckbox:!1,lineIndex:0,deletionIndicator:!1,shortText:"",quantity:0,grossPrice:0,overFulfilmentPercentage:0,priceChangedAllowed:!1,unlimitedOverFulfillment:!1,pricePerUnitOfMeasurement:0,externalServiceNumber:"",netValue:0,serviceText:"",lineText:"",lineNumber:"",alternatives:"",biddersLine:!1,supplementaryLine:!1,lotSizeForCostingIsOne:!1,modelSpecDetailsCode:0},this.selectedUnitOfMeasure="",this.selectedPersonnelNumber="",this.selectedLineType="",this.selectedServiceType="",this.selectedMatGrp="",this.selectedFormula=""}openPopup(){if(this.selectedFormulaRecord){this.showPopup=!0;for(const t of this.selectedFormulaRecord.parameterIds)this.parameterValues[t]=0,console.log(this.parameterValues)}else this.showPopup=!1}openPopupUpdate(){if(this.updatedFormulaRecord){this.showPopupUpdate=!0,console.log(this.showPopupUpdate);for(const t of this.updatedFormulaRecord.parameterIds)this.parameterValuesUpdate[t]=0,console.log(this.parameterValuesUpdate)}else this.showPopupUpdate=!1}saveParameters(){if(this.selectedFormulaRecord){console.log(this.parameterValues);const t=Object.values(this.parameterValues).filter(o=>"number"==typeof o);console.log(t),console.log(this.resultAfterTest);const r={formula:this.selectedFormulaRecord.formula,description:this.selectedFormulaRecord.description,numberOfParameters:this.selectedFormulaRecord.numberOfParameters,parameterIds:this.selectedFormulaRecord.parameterIds,parameterDescriptions:this.selectedFormulaRecord.parameterDescriptions,formulaLogic:this.selectedFormulaRecord.formulaLogic,testParameters:t};console.log(r),this.apiService.put("formulas",this.selectedFormulaRecord.formulaCode,r).subscribe(o=>{console.log("formula updated:",o),this.resultAfterTest=o.result,console.log(this.resultAfterTest)}),this.showPopup=!1}if(this.updatedFormulaRecord){console.log(this.parameterValuesUpdate);const t=Object.values(this.parameterValuesUpdate).filter(o=>"number"==typeof o);console.log(t),console.log(this.resultAfterTestUpdate);const r={formula:this.updatedFormulaRecord.formula,description:this.updatedFormulaRecord.description,numberOfParameters:this.updatedFormulaRecord.numberOfParameters,parameterIds:this.updatedFormulaRecord.parameterIds,parameterDescriptions:this.updatedFormulaRecord.parameterDescriptions,formulaLogic:this.updatedFormulaRecord.formulaLogic,testParameters:t};console.log(r),this.apiService.put("formulas",this.updatedFormulaRecord.formulaCode,r).subscribe(o=>{console.log("formula updated:",o),this.resultAfterTestUpdate=o.result,console.log(this.resultAfterTestUpdate)}),this.showPopupUpdate=!1}}closePopup(){this.showPopupUpdate=!1,this.showPopup=!1}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(v.F0),e.Y36($),e.Y36(p.ez),e.Y36(p.YP))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-model-details"]],features:[e._Bn([$,p.ez,p.YP])],decls:132,vars:48,consts:[[1,"m-2"],[1,"row"],[1,"form-group","col-6"],["for","shortText",1,"fw-bold","mr-2"],[4,"ngIf"],["for","totalValue",1,"fw-bold","mr-2"],[1,"inline-element","border","border-1","border-black","rounded-input"],["styleClass","mb-4 gap-2"],["pTemplate","right"],["pTemplate","left"],["styleClass","p-datatable-gridlines","responsiveLayout","stack","dataKey","modelSpecDetailsCode","editMode","row",3,"value","scrollable","breakpoint","tableStyle","responsive"],["pTemplate","header"],["pTemplate","body","class","m-3"],["pTemplate","footer","class","m-3"],["class","popup-container",4,"ngIf"],[1,"card","flex","justify-content-center"],["header","Model Details",3,"visible","modal","draggable","resizable","maximizable","visibleChange"],[1,"m-0"],[1,"fs-6","mb-1"],[1,"text-danger"],["pTemplate","footer"],["pButton","","label","Detail","size","small",1,"m-2","edit-button",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","m-2",3,"click"],["pButton","","label","Condition","size","small",1,"m-2"],[1,"field"],["pInputText","","type","number","placeholder","Search for Line...",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"ngModel","ngModelChange"],[3,"value","onChange"],["fd-table-cell",""],["fd-table-cell","","pResizableColumn",""],[2,"color","red","margin","5px"],[3,"pEditableRow",4,"ngIf"],[3,"pEditableRow"],[3,"ngModel","value","ngModelChange","onChange"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[1,"mb-2",3,"click"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["optionValue","serviceNumberCode","optionLabel","description","placeholder","Select SeviceNumber",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange","onChange"],["pTemplate","item"],[1,"flex","align-items-center","gap-2"],["pInputText","","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pInputNumber","","type","number",1,"rounded-input",3,"min","ngModel","ngModelChange"],["optionValue","formula","optionLabel","formula",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","appendTo","placeholder","virtualScroll","virtualScrollItemSize","ngModelChange","onChange"],["optionValue","code","optionLabel","code",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","placeholder","required","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["pInputText","","type","checkbox",3,"ngModel","ngModelChange"],["optionValue","code","optionLabel","code",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize","placeholder","appendTo","ngModelChange"],["optionValue","serviceId","optionLabel","serviceId",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize","placeholder","appendTo","ngModelChange"],["optionValue","code","optionLabel","code",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","placeholder","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],[3,"value"],["optionValue","formula","optionLabel","formula","placeholder","Select Formula",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","required","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange","onChange"],["name","grossPrice","pInputNumber","","type","number",1,"rounded-input",3,"min","ngModel","ngModelChange"],["pInputNumber","","name","overFulfilmentPercentage","type","number",1,"rounded-input",3,"min","ngModel","ngModelChange"],["name","priceChangedAllowed","type","checkbox",3,"ngModel","ngModelChange"],["name","unlimitedOverFulfillment","type","checkbox",3,"ngModel","ngModelChange"],["pInputNumber","","name","pricePerUnitOfMeasurement","type","number",1,"rounded-input",3,"min","ngModel","ngModelChange"],["pInputText","","name","externalServiceNumber","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pInputText","","name","lineText","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["optionValue","code","optionLabel","code","placeholder","Select PersonnelNumber",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["optionValue","code","optionLabel","code","placeholder","Select LineType",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["pInputText","","name","lineNumber","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pInputText","","name","alternatives","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["name","biddersLine","type","checkbox",3,"ngModel","ngModelChange"],["name","supplementaryLine","type","checkbox",3,"ngModel","ngModelChange"],["name","lotSizeForCostingIsOne","type","checkbox",3,"ngModel","ngModelChange"],["pButton","","type","button","icon","pi pi-plus","label","Save Line",1,"ui-button-info","rounded-input",3,"disabled","click"],["pInputNumber","","name","quantity","type","number",1,"rounded-input",3,"min","ngModel","ngModelChange"],["optionValue","code","optionLabel","code","placeholder","Select UnitOfMeasure",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","required","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["optionValue","code","optionLabel","code","placeholder","Select MatGrp",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","required","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],["optionValue","serviceId","optionLabel","serviceId","placeholder","Select ServiceType",3,"options","ngModel","ngModelOptions","filter","filterFields","showClear","appendTo","virtualScroll","virtualScrollItemSize","ngModelChange"],[1,"popup-container"],[1,"popup"],[1,"close-button",3,"click"],[4,"ngFor","ngForOf"],[1,"form-button","save-params-button",3,"click"],[1,"form-label"],["pInputNumber","","type","number",1,"form-input","rounded-input","p-2","m-2",3,"min","ngModel","ngModelChange"],[1,"inline-flex","align-items-center","justify-content-center","gap-2"],[1,"font-bold","white-space-nowrap"],["icon","pi pi-check","label","Ok","pAutoFocus","",3,"autofocus","click"]],template:function(r,o){1&r&&(e.TgZ(0,"p-card",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Sh.Text:"),e.qZA(),e.YNc(5,Qe,3,1,"ng-container",4),e.qZA(),e.TgZ(6,"div",2)(7,"label",5),e._uU(8,"TotalValue:"),e.qZA(),e.TgZ(9,"div",6),e._uU(10),e.qZA(),e.YNc(11,Be,3,1,"ng-container",4),e.qZA()()(),e.TgZ(12,"p-toolbar",7),e.YNc(13,Ke,3,0,"ng-template",8),e.YNc(14,Ge,2,1,"ng-template",9),e.qZA(),e._UZ(15,"p-toast"),e.TgZ(16,"p-table",10),e.YNc(17,$e,59,1,"ng-template",11),e.YNc(18,mn,1,1,"ng-template",12),e.YNc(19,qn,69,78,"ng-template",13),e.qZA(),e.YNc(20,kn,9,1,"div",14),e.YNc(21,Yn,9,1,"div",14),e._UZ(22,"p-confirmDialog"),e.TgZ(23,"div",15)(24,"p-dialog",16),e.NdJ("visibleChange",function(s){return o.visible=s}),e.YNc(25,Qn,3,0,"ng-template",11),e.TgZ(26,"div",17)(27,"div",18)(28,"span",19),e._uU(29,"ModelSpecDetailsCode:"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"div",18)(32,"span",19),e._uU(33,"Deletion Indicator:"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"div",18)(36,"span",19),e._uU(37,"Service Number:"),e.qZA(),e._uU(38),e.qZA(),e.TgZ(39,"div",18)(40,"span",19),e._uU(41,"shortText: "),e.qZA(),e._uU(42),e.qZA(),e.TgZ(43,"div",18)(44,"span",19),e._uU(45,"Quantity:"),e.qZA(),e._uU(46),e.qZA(),e.TgZ(47,"div",18)(48,"span",19),e._uU(49,"Formula:"),e.qZA(),e._uU(50),e.qZA(),e.TgZ(51,"div",18)(52,"span",19),e._uU(53,"Gross Price:"),e.qZA(),e._uU(54),e.qZA(),e.TgZ(55,"div",18)(56,"span",19),e._uU(57,"Net Value:"),e.qZA(),e._uU(58),e.qZA(),e.TgZ(59,"div",18)(60,"span",19),e._uU(61,"UnitOfMeasurement:"),e.qZA(),e._uU(62),e.qZA(),e.TgZ(63,"div",18)(64,"span",19),e._uU(65,"Currency:"),e.qZA(),e._uU(66),e.qZA(),e.TgZ(67,"div",18)(68,"span",19),e._uU(69,"OverFulfilmentPercentage:"),e.qZA(),e._uU(70),e.qZA(),e.TgZ(71,"div",18)(72,"span",19),e._uU(73,"PriceChangedAllowed:"),e.qZA(),e._uU(74),e.qZA(),e.TgZ(75,"div",18)(76,"span",19),e._uU(77,"UnlimitedOverFulfillment: "),e.qZA(),e._uU(78),e.qZA(),e.TgZ(79,"div",18)(80,"span",19),e._uU(81,"PricePerUnitOfMeasurement:"),e.qZA(),e._uU(82),e.qZA(),e.TgZ(83,"div",18)(84,"span",19),e._uU(85,"MaterialGroupCode: "),e.qZA(),e._uU(86),e.qZA(),e.TgZ(87,"div",18)(88,"span",19),e._uU(89,"ServiceTypeCode:"),e.qZA(),e._uU(90),e.qZA(),e.TgZ(91,"div",18)(92,"span",19),e._uU(93,"External ServiceNumber:"),e.qZA(),e._uU(94),e.qZA(),e.TgZ(95,"div",18)(96,"span",19),e._uU(97,"Service Text:"),e.qZA(),e._uU(98),e.qZA(),e.TgZ(99,"div",18)(100,"span",19),e._uU(101,"Line Text:"),e.qZA(),e._uU(102),e.qZA(),e.TgZ(103,"div",18)(104,"span",19),e._uU(105,"Personnel Number:"),e.qZA(),e._uU(106),e.qZA(),e.TgZ(107,"div",18)(108,"span",19),e._uU(109,"Line Type:"),e.qZA(),e._uU(110),e.qZA(),e.TgZ(111,"div",18)(112,"span",19),e._uU(113,"Line Number:"),e.qZA(),e._uU(114),e.qZA(),e.TgZ(115,"div",18)(116,"span",19),e._uU(117,"Alternatives:"),e.qZA(),e._uU(118),e.qZA(),e.TgZ(119,"div",18)(120,"span",19),e._uU(121,"Bidder's Line:"),e.qZA(),e._uU(122),e.qZA(),e.TgZ(123,"div",18)(124,"span",19),e._uU(125,"Supplementary Line:"),e.qZA(),e._uU(126),e.qZA(),e.TgZ(127,"div",18)(128,"span",19),e._uU(129,"LotSizeForCostingIsOne:"),e.qZA(),e._uU(130),e.qZA()(),e.YNc(131,Bn,1,1,"ng-template",20),e.qZA()()),2&r&&(e.xp6(5),e.Q6J("ngIf",o.modelSpecRecord),e.xp6(5),e.hij(" ",o.totalValue," "),e.xp6(1),e.Q6J("ngIf",o.modelSpecRecord),e.xp6(5),e.Q6J("value",o.records)("scrollable",!0)("breakpoint","960px")("tableStyle",e.DdM(45,Kn))("responsive",!0),e.xp6(4),e.Q6J("ngIf",o.showPopup&&o.selectedFormulaRecord),e.xp6(1),e.Q6J("ngIf",o.showPopupUpdate&&o.updatedFormulaRecord),e.xp6(1),e.Akn(e.DdM(46,Gn)),e.xp6(2),e.Akn(e.DdM(47,$n)),e.Q6J("visible",o.visible)("modal",!0)("draggable",!1)("resizable",!0)("maximizable",!0),e.xp6(6),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.modelSpecDetailsCode,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.deletionIndicator,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.serviceNumberCode,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.shortText," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.quantity," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.formulaCode," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.grossPrice,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.netValue," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.unitOfMeasurementCode,""),e.xp6(4),e.hij(" ",null==o.currency?null:o.currency.code,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.overFulfilmentPercentage,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.priceChangedAllowed,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.unlimitedOverFulfillment," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.pricePerUnitOfMeasurement,""),e.xp6(4),e.Oqu(null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.materialGroupCode),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.serviceTypeCode,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.externalServiceNumber,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.serviceText,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.lineText," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.personnelNumberCode,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.lineTypeCode,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.lineNumber," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.alternatives,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.biddersLine,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.supplementaryLine,""),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.lotSizeForCostingIsOne,""))},dependencies:[F.tN,d.sg,d.O5,a.Fj,a.wV,a.Wl,a.JJ,a.Q7,a.qQ,a.On,C.Hq,C.zx,p.jx,g.iA,g.Q7,g.Wq,g.YL,g.D$,g.Pv,g.U1,g.wT,O.Lt,L.V,R.o,w.FN,N.Z,y.Q,Y.XZ],styles:[".dimmed[_ngcontent-%COMP%]{color:#999}.inline-element[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}.popup-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#00000080;z-index:1000}.popup[_ngcontent-%COMP%]{position:relative;background:white;border:1px solid #ccc;padding:2rem;max-width:90vw;max-height:90vh;overflow:auto;box-shadow:0 0 10px #0000001a;display:flex;flex-direction:column}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:#cd1010}.save-params-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}h3[_ngcontent-%COMP%]{margin-top:0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-label[_ngcontent-%COMP%]{display:block;font-weight:700}.form-input[_ngcontent-%COMP%]{width:100%;padding:2px;border:1px solid #ccc;border-radius:4px}.form-actions[_ngcontent-%COMP%]{text-align:right;margin-top:20px}.form-button[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.form-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}\n\n/*# sourceMappingURL=model-details.component.css.map*/"]})}return n})(),z=(()=>{class n{constructor(t,r){this.apiService=t,this.http=r,this.recordsChanged=new A.x,this.startedEditing=new A.x}getApiRecords(){this.apiService.get("servicetypes").subscribe(t=>{console.log(t),this.recordsApi=t,this.recordsChanged.next(this.recordsApi)})}addApiRecord(t){return this.apiService.post("servicetypes",t).subscribe(r=>{console.log("ServiceType created:",r),this.getApiRecords()}),this.apiService.post("servicetypes",t)}updateApiRecord(t,r){console.log(this.apiService.put("servicetypes",t,r)),this.apiService.put("servicetypes",t,r).subscribe(o=>{console.log(o),this.getApiRecords()})}getApiRecord(t){return this.apiService.getID("servicetypes",t)}deleteApiRecord(t){console.log(this.apiService.delete("servicetypes",t)),this.apiService.delete("servicetypes",t).subscribe(r=>{console.log(r),this.getApiRecords()})}updateRecord(t,r){this.apiService.put("servicetypes",t,r).subscribe(o=>{console.log("modelspecs updated:",o),this.getApiRecords()})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(T.s),e.LFG(h.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();function Hn(n,l){1&n&&(e.TgZ(0,"div",6),e._uU(1," Service Types: "),e.qZA())}function Wn(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",7),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th",7),e._uU(4,"Description"),e.qZA(),e.TgZ(5,"th",7),e._uU(6,"Created On"),e.qZA(),e.TgZ(7,"th",7),e._uU(8,"Actions"),e.qZA()())}function zn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.description=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.description)}}function Vn(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.description," ")}}function Xn(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.onRowEditInit(o))}),e.qZA()}}function eo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw();return e.KtG(i.onRowEditSave(o.serviceTypeCode,o))}),e.qZA()}}function to(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),i=o.$implicit,s=o.rowIndex,_=e.oxw();return e.KtG(_.onRowEditCancel(i,s))}),e.qZA()}}function no(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",8)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"p-cellEditor"),e.YNc(5,zn,1,1,"ng-template",9),e.YNc(6,Vn,1,1,"ng-template",10),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"div",11),e.YNc(11,Xn,1,0,"button",12),e.YNc(12,eo,1,0,"button",13),e.YNc(13,to,1,0,"button",14),e.TgZ(14,"button",15),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteRecord(i))}),e.qZA()()()()}if(2&n){const t=l.$implicit,r=l.editing;e.Q6J("pEditableRow",t),e.xp6(2),e.hij(" ",t.serviceId," "),e.xp6(6),e.hij(" ",t.lastChangeDate," "),e.xp6(3),e.Q6J("ngIf",!r),e.xp6(1),e.Q6J("ngIf",r),e.xp6(1),e.Q6J("ngIf",r)}}function oo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newServiceType.serviceId=o)}),e.qZA()(),e.TgZ(3,"td")(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.newServiceType.description=o)}),e.qZA()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addRow())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.newServiceType.serviceId),e.xp6(2),e.Q6J("ngModel",t.newServiceType.description)}}const ro=function(){return{"min-width":"50rem"}},io=function(){return{width:"450px"}};let V=(()=>{class n{constructor(t,r,o,i){this.apiService=t,this._ServiceTypeService=r,this.messageService=o,this.confirmationService=i,this.editMode=!1,this.clonedRecords={},this.newServiceType={serviceTypeCode:0,serviceId:"",description:"",lastChangeDate:new Date}}ngOnInit(){this._ServiceTypeService.getApiRecords(),this.subscription=this._ServiceTypeService.recordsChanged.subscribe(t=>{this.records=t.sort((r,o)=>o.serviceTypeCode-r.serviceTypeCode)})}onEditItem(t){this._ServiceTypeService.startedEditing.next(t)}onRowEditInit(t){this.clonedRecords[t.serviceTypeCode]={...t}}onRowEditSave(t,r){this._ServiceTypeService.updateRecord(t,r),this.ngOnInit(),this.editMode=!1,delete this.clonedRecords[r.serviceTypeCode],this.messageService.add({severity:"success",summary:"Success",detail:"ServiceType Updated Successfully"})}onRowEditCancel(t,r){this.records[r]=this.clonedRecords[t.serviceTypeCode],delete this.clonedRecords[t.serviceTypeCode]}deleteRecord(t){this.confirmationService.confirm({message:"Are you sure you want to delete the selected record?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.apiService.delete("servicetypes",t.serviceTypeCode).subscribe(r=>{console.log("service type deleted:",r),this._ServiceTypeService.getApiRecords()}),this.messageService.add({severity:"success",summary:"Successfully",detail:"Deleted",life:3e3})}})}addRow(){const r=Object.fromEntries(Object.entries({serviceId:this.newServiceType.serviceId,description:this.newServiceType.description}).filter(([o,i])=>""!==i&&void 0!==i));this.apiService.post("servicetypes",r).subscribe(o=>{console.log("ServiceType created:",o),o&&(this.resetNewService(),this.messageService.add({severity:"success",summary:"Success",detail:"ServiceType Added Successfully"})),this.ngOnInit()},o=>{409===o.status?(console.log("Conflict error:",o),this.messageService.add({severity:"error",summary:"Code Conflict",detail:"This Code already exists",life:1e4}),this.ngOnInit()):console.error("An error occurred:",o)})}resetNewService(){this.newServiceType={serviceTypeCode:0,serviceId:"",description:"",lastChangeDate:new Date}}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(z),e.Y36(p.ez),e.Y36(p.YP))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-service-type"]],features:[e._Bn([z,p.ez,p.YP])],decls:8,vars:7,consts:[[1,"card","mt-5"],["dataKey","serviceTypeCode","styleClass","p-datatable-gridlines","editMode","row","scrollHeight","400px",3,"value","tableStyle","scrollable"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer","class","m-3"],[1,"flex","align-items-center","justify-content-between"],["fd-table-cell",""],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-trash","severity","danger",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pInputText","","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["name","serviceId","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["name","description","type","text",1,"rounded-input",3,"ngModel","ngModelChange"],["pButton","","type","button","icon","pi pi-plus","label","Add",1,"ui-button-info","rounded-input",3,"disabled","click"]],template:function(r,o){1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"p-table",1),e.YNc(3,Hn,2,0,"ng-template",2),e.YNc(4,Wn,9,0,"ng-template",3),e.YNc(5,no,15,6,"ng-template",4),e.YNc(6,oo,8,2,"ng-template",5),e.qZA()(),e._UZ(7,"p-confirmDialog")),2&r&&(e.xp6(2),e.Q6J("value",o.records)("tableStyle",e.DdM(5,ro))("scrollable",!0),e.xp6(5),e.Akn(e.DdM(6,io)))},dependencies:[F.tN,d.O5,a.Fj,a.JJ,a.On,C.Hq,p.jx,g.iA,g.YL,g.D$,g.Pv,g.U1,g.wT,w.FN,y.Q]})}return n})(),lo=(()=>{class n{constructor(t,r){this.messageService=t,this.apiService=r,this.isFormValid=!1}ngOnInit(){this.items=[{label:"Create",routerLink:"create"},{label:"Set Parameters",routerLink:"parameter"},{label:"Relation",routerLink:"relation"},{label:"Test",routerLink:"test"}]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getApiRecords(){this.apiService.get("formulas").subscribe(t=>{console.log(t)})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(p.ez),e.Y36(T.s))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-formula"]],features:[e._Bn([p.ez])],decls:4,vars:2,consts:[[1,"card"],[3,"model","readonly"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast")(2,"p-steps",1),e.qZA(),e._UZ(3,"router-outlet")),2&r&&(e.xp6(2),e.Q6J("model",o.items)("readonly",!0))},dependencies:[v.lC,w.FN,K.R]})}return n})();var U=c(8649);function ao(n,l){1&n&&(e.TgZ(0,"small",17),e._uU(1,"Formula is required."),e.qZA())}function so(n,l){1&n&&(e.TgZ(0,"small",17),e._uU(1,"Description is required."),e.qZA())}function co(n,l){1&n&&(e.ynx(0),e._uU(1," NumberOfParameters is required. "),e.BQk())}function po(n,l){if(1&n&&(e.TgZ(0,"small",17),e.YNc(1,co,2,0,"ng-container",18),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.createInformation.numberOfParameters<=0&&void 0===t.createInformation.numberOfParameters)}}const Q=function(n){return{"ng-dirty":n}};function _o(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",4),e._uU(2,"Formula: "),e.TgZ(3,"span",5),e._uU(4,"*"),e.qZA()(),e.TgZ(5,"input",6,7),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.createInformation.formula=o)}),e.qZA(),e.YNc(7,ao,2,0,"small",8),e.qZA(),e.TgZ(8,"div",3)(9,"label",9),e._uU(10,"Description: "),e.TgZ(11,"span",5),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"input",10,11),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.createInformation.description=o)}),e.qZA(),e.YNc(15,so,2,0,"small",8),e.qZA(),e.TgZ(16,"div",12)(17,"div",13)(18,"label",14),e._uU(19,"NumberOfParams:"),e.TgZ(20,"span",5),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"input",15,16),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.createInformation.numberOfParameters=o)})("keyup",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.validateNumberOfParameters())}),e.qZA(),e.YNc(24,po,2,1,"small",8),e.qZA()()}if(2&n){const t=e.MAs(6),r=e.MAs(14),o=e.MAs(23),i=e.oxw();e.xp6(5),e.Q6J("ngModel",i.createInformation.formula)("ngClass",e.VKq(10,Q,t.invalid&&i.submitted||t.dirty&&t.invalid)),e.xp6(2),e.Q6J("ngIf",t.invalid&&i.submitted||t.dirty&&t.invalid),e.xp6(6),e.Q6J("ngModel",i.createInformation.description)("ngClass",e.VKq(12,Q,r.invalid&&i.submitted||r.dirty&&r.invalid)),e.xp6(2),e.Q6J("ngIf",r.invalid&&i.submitted||r.dirty&&r.invalid),e.xp6(7),e.Q6J("ngModel",i.createInformation.numberOfParameters)("ngClass",e.VKq(14,Q,o.invalid&&i.submitted||o.dirty&&o.invalid))("min",1),e.xp6(2),e.Q6J("ngIf",o.invalid&&i.submitted||o.dirty&&o.invalid)}}function uo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"p-button",20),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.nextPage())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.isNumberOfParametersValid)("rounded",!0)}}let X=(()=>{class n{validateNumberOfParameters(){this.isNumberOfParametersValid=this.createInformation.numberOfParameters>0}constructor(t,r,o,i){this.route=t,this.apiService=r,this.router=o,this.formulaService=i,this.createInformation={formula:"",description:"",numberOfParameters:0},this.submitted=!1,this.isNumberOfParametersValid=!0}ngOnInit(){this.createInformation=this.formulaService.getFormulaInformation().createInformation,console.log(this.createInformation),null!==localStorage.getItem("formula")&&(this.createInformation.formula=localStorage.getItem("formula")?localStorage.getItem("formula"):""),null!==localStorage.getItem("description")&&(this.createInformation.description=localStorage.getItem("description")?localStorage.getItem("description"):""),null!==localStorage.getItem("numberOfParameters")&&(this.createInformation.numberOfParameters=Number(localStorage.getItem("numberOfParameters")))}nextPage(){if(this.createInformation.formula&&this.createInformation.description&&this.createInformation.numberOfParameters){this.formulaService.formulaInformation.createInformation=this.createInformation,localStorage.setItem("formula",this.createInformation.formula),localStorage.setItem("description",this.createInformation.description),localStorage.setItem("numberOfParameters",String(this.createInformation.numberOfParameters));const t={state:{passedCreateInfo:this.createInformation,numberOfParameters:this.createInformation.numberOfParameters,formula:this.createInformation.formula,description:this.createInformation.description}};console.log(t),this.router.navigate(["/formula/parameter"],t)}this.submitted=!0}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.gz),e.Y36(T.s),e.Y36(v.F0),e.Y36(U.M))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-create"]],features:[e._Bn([U.M])],decls:4,vars:0,consts:[[1,"stepsdemo-content"],["pTemplate","content"],["pTemplate","footer"],[1,"field"],["for","formula"],[1,"required-indicator",2,"color","red"],["id","formula","type","text","maxlength","4","required","","pInputText","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"ngModel","ngClass","ngModelChange"],["formula","ngModel"],["class","p-error",4,"ngIf"],["for","description"],["id","description","type","text","required","","pInputText","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"ngModel","ngClass","ngModelChange"],["description","ngModel"],[1,"row","formgrid","grid"],[1,"field","grid","col"],["for","numberOfParameters"],["id","numberOfParameters","type","number","required","","pInputNumber","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"ngModel","ngClass","min","ngModelChange","keyup"],["numberOfParameters","ngModel"],[1,"p-error"],[4,"ngIf"],[1,"flex","justify-content-end","flex-wrap"],["label","Next Step","icon","pi pi-angle-right","iconPos","right",3,"disabled","rounded","onClick"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"p-card"),e.YNc(2,_o,25,16,"ng-template",1),e.YNc(3,uo,2,2,"ng-template",2),e.qZA()())},dependencies:[d.mk,d.O5,a.Fj,a.wV,a.JJ,a.Q7,a.nD,a.qQ,a.On,C.zx,p.jx,N.Z]})}return n})();function mo(n,l){if(1&n&&(e.TgZ(0,"small",11),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij("ParamID",t+1," is required.")}}function go(n,l){if(1&n&&(e.TgZ(0,"small",11),e._uU(1),e.qZA()),2&n){const t=e.oxw().index;e.xp6(1),e.hij("ParamDescription",t+1," is required.")}}const ee=function(n){return{"ng-dirty":n}};function fo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"label",5),e._uU(3),e.TgZ(4,"span",6),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"input",7,8),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.paramID=o)}),e.qZA(),e.YNc(8,mo,2,1,"small",9),e.qZA(),e.TgZ(9,"div",4)(10,"label",5),e._uU(11),e.TgZ(12,"span",6),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",7,10),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).$implicit;return e.KtG(s.paramDescription=o)}),e.qZA(),e.YNc(16,go,2,1,"small",9),e.qZA()()}if(2&n){const t=l.$implicit,r=l.index,o=e.MAs(7),i=e.MAs(15),s=e.oxw(2);e.xp6(2),e.MGl("for","paramID",r,""),e.xp6(1),e.hij("ParamID",r+1,":"),e.xp6(3),e.Q6J("id","paramID"+r)("ngModel",t.paramID)("ngClass",e.VKq(12,ee,t.paramID.invalid&&s.submitted||t.paramID.dirty&&t.paramID.invalid)),e.xp6(2),e.Q6J("ngIf",o.invalid&&s.submitted||o.dirty&&o.invalid),e.xp6(2),e.MGl("for","paramDescription",r,""),e.xp6(1),e.hij("Param Description",r+1,":"),e.xp6(3),e.Q6J("id","paramDescription"+r)("ngModel",t.paramDescription)("ngClass",e.VKq(14,ee,t.paramDescription.invalid&&s.submitted||t.paramDescription.dirty&&t.paramDescription.invalid)),e.xp6(2),e.Q6J("ngIf",i.invalid&&s.submitted||i.dirty&&i.invalid)}}function ho(n,l){if(1&n&&e.YNc(0,fo,17,16,"div",2),2&n){const t=e.oxw();e.Q6J("ngForOf",t.parameterInformationIterator)}}function vo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"p-button",13),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.prevPage())}),e.qZA(),e.TgZ(2,"p-button",14),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.nextPage())}),e.qZA()()}2&n&&(e.xp6(1),e.Q6J("rounded",!0),e.xp6(1),e.Q6J("rounded",!0))}let Co=(()=>{class n{constructor(t,r){this.router=t,this.formulaService=r,this.parameterInformationIterator=[],this.submitted=!1,this.numberOfParameters=this.router.getCurrentNavigation()?.extras.state?.numberOfParameters,this.formula=this.router.getCurrentNavigation()?.extras.state?.formula,this.description=this.router.getCurrentNavigation()?.extras.state?.description,this.passedCreateInfo=this.router.getCurrentNavigation()?.extras.state?.passedCreateInfo,console.log(this.passedCreateInfo),console.log(this.numberOfParameters)}ngOnInit(){if(null!==JSON.parse(String(localStorage.getItem("passedParamInfo")))){this.parameterInformation=JSON.parse(String(localStorage.getItem("passedParamInfo")))?JSON.parse(String(localStorage.getItem("passedParamInfo"))):[];for(let t=0;t<Number(localStorage.getItem("numberOfParameters"));t++)this.parameterInformationIterator.push({paramID:this.parameterInformation[t]?.paramID||"",paramDescription:this.parameterInformation[t]?.paramDescription||""})}else{this.parameterInformation=this.formulaService.getFormulaInformation().parameterInformation;for(let t=0;t<this.numberOfParameters;t++)this.parameterInformationIterator.push({paramID:"",paramDescription:""})}}nextPage(){if(this.parameterInformationIterator.every(t=>t.paramID&&t.paramDescription)){this.formulaService.formulaInformation.parameterInformation.parameters=this.parameterInformationIterator,localStorage.setItem("passedParamInfo",JSON.stringify(this.parameterInformationIterator));const t={state:{passedCreateInfo:this.passedCreateInfo,passedParamInfo:this.parameterInformationIterator}};return console.log(t),void this.router.navigate(["/formula/relation"],t)}this.submitted=!0}prevPage(){this.router.navigate(["/formula/create"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.F0),e.Y36(U.M))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-parameter"]],features:[e._Bn([U.M])],decls:3,vars:0,consts:[["pTemplate","content"],["pTemplate","footer"],["class","formgrid grid",4,"ngFor","ngForOf"],[1,"formgrid","grid"],[1,"field","col"],[3,"for"],[1,"required-indicator",2,"color","red"],["type","text","required","","pInputText","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"id","ngModel","ngClass","ngModelChange"],["paramID","ngModel"],["class","p-error",4,"ngIf"],["paramDescription","ngModel"],[1,"p-error"],[1,"flex","justify-content-between","flex-wrap"],["label","Back","icon","pi pi-angle-left",3,"rounded","onClick"],["label","Next Step","icon","pi pi-angle-right","iconPos","right",3,"rounded","onClick"]],template:function(r,o){1&r&&(e.TgZ(0,"p-card"),e.YNc(1,ho,1,1,"ng-template",0),e.YNc(2,vo,3,2,"ng-template",1),e.qZA())},dependencies:[d.mk,d.sg,d.O5,a.Fj,a.JJ,a.Q7,a.On,C.zx,p.jx,N.Z]})}return n})();function bo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.paramClick(i.paramID))}),e._uU(1),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(1),e.hij(" ",t.paramID," ")}}function xo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.operationClick(i))}),e._uU(1),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(1),e.hij(" ",t," ")}}function To(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"label",2),e._uU(1,"Formula Logic:"),e.qZA(),e.TgZ(2,"textarea",3,4),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.relationInformation.formulaLogic=o)}),e.qZA(),e.TgZ(4,"div",5)(5,"div",6)(6,"p"),e._uU(7,"Parameters You Entered:"),e.qZA(),e.TgZ(8,"ul",7),e.YNc(9,bo,2,1,"a",8),e.qZA()(),e.TgZ(10,"div",6)(11,"p"),e._uU(12,"Operations:"),e.qZA(),e.TgZ(13,"ul",7),e.YNc(14,xo,2,1,"a",8),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.relationInformation.formulaLogic),e.xp6(7),e.Q6J("ngForOf",t.passedParamInfo),e.xp6(5),e.Q6J("ngForOf",t.operations)}}function Mo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-button",11),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.prevPage())}),e.qZA(),e.TgZ(2,"p-button",12),e.NdJ("onClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.nextPage())}),e.qZA()()}2&n&&(e.xp6(1),e.Q6J("rounded",!0),e.xp6(1),e.Q6J("rounded",!0))}let So=(()=>{class n{constructor(t,r){this.router=t,this.formulaService=r,this.submitted=!1,this.parameterIds=[],this.parameterDescriptions=[],this.operations=["+","-","*","/","%","\u03c0","^"]}paramClick(t){this.relationInformation.formulaLogic+=t}operationClick(t){this.relationInformation.formulaLogic+=t}ngOnInit(){this.passedCreateInfo=history.state.passedCreateInfo,this.passedParamInfo=history.state.passedParamInfo,this.parameterIds=this.passedParamInfo.map(t=>t.paramID),this.parameterDescriptions=this.passedParamInfo.map(t=>t.paramDescription),null!==localStorage.getItem("formulaLogic")?(this.relationInformation=this.formulaService.getFormulaInformation().relationInformation,this.relationInformation.formulaLogic=localStorage.getItem("formulaLogic")):this.relationInformation=this.formulaService.getFormulaInformation().relationInformation}nextPage(){this.relationInformation.formulaLogic?(this.relationInformation.formulaLogic=this.relationInformation.formulaLogic.replace(/\u03c0/g,"22/7"),this.relationInformation.formulaLogic=this.relationInformation.formulaLogic.replace(/\^/g,"**"),this.formulaService.formulaInformation.relationInformation=this.relationInformation,localStorage.setItem("formulaLogic",String(this.relationInformation.formulaLogic)),this.router.navigate(["/formula/test"],{state:{formulaLogic:this.relationInformation.formulaLogic,passedCreateInfo:this.passedCreateInfo,passedParamInfo:this.passedParamInfo}})):this.submitted=!0}prevPage(){this.router.navigate(["/formula/parameter"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.F0),e.Y36(U.M))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-relation"]],features:[e._Bn([U.M])],decls:3,vars:0,consts:[["pTemplate","content"],["pTemplate","footer"],["for","address"],["id","formulaLogic","type","text","id","float-input","rows","5","pInputTextarea","",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"ngModel","ngModelChange"],["formulaLogic","ngModel"],[1,"row"],[1,"list-container"],[1,"list-group","list-group-horizontal"],["class","list-group-item m-1","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","m-1",2,"cursor","pointer",3,"click"],[1,"flex","justify-content-between","flex-wrap"],["label","Back","icon","pi pi-angle-left",3,"rounded","onClick"],["label","Next Step","icon","pi pi-angle-right","iconPos","right",3,"rounded","onClick"]],template:function(r,o){1&r&&(e.TgZ(0,"p-card"),e.YNc(1,To,15,3,"ng-template",0),e.YNc(2,Mo,3,2,"ng-template",1),e.qZA())},dependencies:[d.sg,a.Fj,a.JJ,a.On,C.zx,p.jx,B.g,N.Z],styles:[".list-group[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.list-group-item[_ngcontent-%COMP%]{margin-bottom:5px;border-radius:5px;background-color:#f0f0f0}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#2a7cee}\n\n/*# sourceMappingURL=relation.component.css.map*/"]})}return n})();var Zo=c(4804);let te=(()=>{class n{constructor(t,r){this.apiService=t,this.http=r,this.recordsChanged=new A.x,this.startedEditing=new A.x}getApiRecords(){this.apiService.get("formulas").subscribe(t=>{console.log(t),this.recordsApi=t,this.recordsChanged.next(this.recordsApi)})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(T.s),e.LFG(h.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();function wo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e._uU(1," Formulas: "),e.TgZ(2,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.navigateAddFormula())}),e.qZA()()}}function Ao(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",12),e._uU(2,"Formula Code"),e.qZA(),e.TgZ(3,"th",12),e._uU(4,"Description"),e.qZA(),e.TgZ(5,"th",12),e._uU(6,"Actions"),e.qZA()())}function yo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.formula=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.formula)}}function Do(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.formula," ")}}function Io(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"input",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.description=o)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.description)}}function No(n,l){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.description," ")}}function Uo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr",13)(1,"td")(2,"p-cellEditor"),e.YNc(3,yo,1,1,"ng-template",14),e.YNc(4,Do,1,1,"ng-template",15),e.qZA()(),e.TgZ(5,"td")(6,"p-cellEditor"),e.YNc(7,Io,1,1,"ng-template",14),e.YNc(8,No,1,1,"ng-template",15),e.qZA()(),e.TgZ(9,"td")(10,"button",16),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteRecord(i))}),e.qZA(),e.TgZ(11,"button",17),e.NdJ("click",function(){const i=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.showDialog(i))}),e.qZA()()()}2&n&&e.Q6J("pEditableRow",l.$implicit)}function Oo(n,l){1&n&&(e.TgZ(0,"div",19)(1,"span",20),e._uU(2,"Formula Details"),e.qZA()())}function Eo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.visible=!1)}),e.qZA()}2&n&&e.Q6J("autofocus",!0)}const Ro=function(){return{"min-width":"50rem"}},Po=function(){return{width:"450px"}},Fo=function(){return{width:"50vw"}};let qo=(()=>{class n{constructor(t,r,o,i,s){this.apiService=t,this.formulasService=r,this.messageService=o,this.confirmationService=i,this.router=s,this.visible=!1}ngOnInit(){console.log(this.formulasService.getApiRecords()),this.formulasService.getApiRecords(),this.subscription=this.formulasService.recordsChanged.subscribe(t=>{this.records=t.sort((r,o)=>o.formulaCode-r.formulaCode),console.log(this.records)})}deleteRecord(t){this.confirmationService.confirm({message:"Are you sure you want to delete the selected record?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.apiService.delete("formulas",t.formulaCode).subscribe(r=>{console.log("formula deleted:",r),this.formulasService.getApiRecords()}),this.messageService.add({severity:"success",summary:"Successfully",detail:"Deleted",life:3e3})}})}navigateAddFormula(){this.router.navigate(["/formula"])}showDialog(t){this.visible=!0,this.selectedDetailsForDisplay=t,console.log(this.selectedDetailsForDisplay)}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(te),e.Y36(p.ez),e.Y36(p.YP),e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-formulas"]],features:[e._Bn([te,p.ez,p.YP])],decls:27,vars:18,consts:[["dataKey","formulaCode","styleClass","p-datatable-gridlines","editMode","row",3,"value","tableStyle"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"card","flex","justify-content-center"],["header","Formula Details",3,"visible","modal","draggable","resizable","maximizable","visibleChange"],[1,"m-0"],[1,"fs-6","mb-1"],[1,"text-danger"],["pTemplate","footer"],[1,"flex","align-items-center","justify-content-between"],["pButton","","icon","pi pi-plus","size","small","label","Add Formula",1,"rounded-input",3,"click"],["fd-table-cell",""],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],["pButton","","pRipple","","type","button","icon","pi pi-trash","severity","danger",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","type","button","icon","pi pi-info-circle","severity","info",1,"p-button-rounded","p-button-text","p-button-info",3,"click"],["pInputText","","type","text",3,"ngModel","ngModelChange"],[1,"inline-flex","align-items-center","justify-content-center","gap-2"],[1,"font-bold","white-space-nowrap"],["icon","pi pi-check","label","Ok","pAutoFocus","",1,"rounded-input",3,"autofocus","click"]],template:function(r,o){1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-table",0),e.YNc(2,wo,3,0,"ng-template",1),e.YNc(3,Ao,7,0,"ng-template",2),e.YNc(4,Uo,12,1,"ng-template",3),e.qZA(),e._UZ(5,"p-confirmDialog"),e.TgZ(6,"div",4)(7,"p-dialog",5),e.NdJ("visibleChange",function(s){return o.visible=s}),e.YNc(8,Oo,3,0,"ng-template",2),e.TgZ(9,"div",6)(10,"div",7)(11,"span",8),e._uU(12,"Formula Code:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div",7)(15,"span",8),e._uU(16,"Description:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"div",7)(19,"span",8),e._uU(20,"NumberOfParameters:"),e.qZA(),e._uU(21),e.qZA(),e.TgZ(22,"div",7)(23,"span",8),e._uU(24,"Relation: "),e.qZA(),e._uU(25),e.qZA()(),e.YNc(26,Eo,1,1,"ng-template",9),e.qZA()()),2&r&&(e.xp6(1),e.Q6J("value",o.records)("tableStyle",e.DdM(15,Ro)),e.xp6(4),e.Akn(e.DdM(16,Po)),e.xp6(2),e.Akn(e.DdM(17,Fo)),e.Q6J("visible",o.visible)("modal",!0)("draggable",!1)("resizable",!0)("maximizable",!0),e.xp6(6),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.formula," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.description," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.numberOfParameters," "),e.xp6(4),e.hij(" ",null==o.selectedDetailsForDisplay?null:o.selectedDetailsForDisplay.formulaLogic," "))},dependencies:[F.tN,a.Fj,a.JJ,a.On,C.Hq,C.zx,p.jx,g.iA,g.YL,g.D$,L.V,w.FN,y.Q]})}return n})();class Jo{constructor(l,t,r,o,i,s,_,x,I,Hr,Wr,zr,Vr){this.searchTerm=l,this.description=t,this.serviceText=r,this.shortTextChangeAllowed=o,this.deletionIndicator=i,this.mainItem=s,this.numberToBeConverted=_,this.convertedNumber=x,this.serviceTypeCode=I,this.materialGroupCode=Hr,this.baseUnitOfMeasurement=Wr,this.toBeConvertedUnitOfMeasurement=zr,this.defaultUnitOfMeasurement=Vr}}let E=(()=>{class n{constructor(t){this.apiService=t,this.recordsChanged=new A.x,this.startedEditing=new A.x}getRecords(){this.apiService.get("servicenumbers").subscribe(t=>{console.log(t),this.recordsApi=t,this.recordsChanged.next(this.recordsApi)})}getRecord(t){return this.apiService.getID("servicenumbers",t)}addRecord(t){this.apiService.post("servicenumbers",t).subscribe(r=>(console.log("service master created:",r),this.getRecords(),r))}updateRecord(t,r){this.apiService.put("servicenumbers",t,r).subscribe(o=>{console.log("service master updated:",o),this.getRecords()})}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(T.s))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();function ko(n,l){1&n&&(e.TgZ(0,"div",37),e._uU(1," Search Term is required "),e.qZA())}function Lo(n,l){1&n&&(e.TgZ(0,"div",37),e._uU(1," Description is required "),e.qZA())}function Yo(n,l){if(1&n&&(e.TgZ(0,"div",38)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.serviceId,"::",t.description,"")}}function Qo(n,l){1&n&&(e.TgZ(0,"div",39),e._uU(1," ServiceType is required "),e.qZA())}function Bo(n,l){if(1&n&&(e.TgZ(0,"div",38)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function Ko(n,l){1&n&&(e.TgZ(0,"div",40),e._uU(1," BaseUnitOfMeasurement is required "),e.qZA())}function Go(n,l){if(1&n&&(e.TgZ(0,"div",38)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function $o(n,l){if(1&n&&(e.TgZ(0,"div",38)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}function jo(n,l){if(1&n&&(e.TgZ(0,"div",38)(1,"div"),e._uU(2),e.qZA()()),2&n){const t=l.$implicit;e.xp6(2),e.AsE("",t.code,"::",t.description,"")}}const Ho=function(){return["serviceId","description"]},q=function(){return["code","description"]},Wo=function(){return{width:"450px"}};let zo=(()=>{class n{constructor(t,r,o,i,s,_){if(this.apiService=t,this.serviceMasterService=r,this.messageService=o,this.router=i,this.confirmationService=s,this.route=_,this.serviceMasterForm=new a.cw({serviceNumberCode:new a.NI(0),searchTerm:new a.NI("",[a.kI.required]),description:new a.NI("",[a.kI.required]),serviceText:new a.NI(""),shortTextChangeAllowed:new a.NI(!1),deletionIndicator:new a.NI(!1),numberToBeConverted:new a.NI(0),convertedNumber:new a.NI(0),mainItem:new a.NI(!1),serviceTypeCode:new a.NI("",[a.kI.required]),materialGroupCode:new a.NI(""),baseUnitOfMeasurement:new a.NI(""),toBeConvertedUnitOfMeasurement:new a.NI(""),defaultUnitOfMeasurement:new a.NI("")}),this.editMode=!1,this.copyMode=!1,this.pageId=0,this.serviceMasterInfo={serviceNumberCode:0,searchTerm:"",description:"",serviceText:"",shortTextChangeAllowed:!1,deletionIndicator:!1,numberToBeConverted:0,convertedNumber:0,mainItem:!1,serviceTypeCode:"",materialGroupCode:"",baseUnitOfMeasurement:"",toBeConvertedUnitOfMeasurement:"",defaultUnitOfMeasurement:""},this.router.getCurrentNavigation()?.extras.state){const x=this.router.getCurrentNavigation()?.extras.state?.Record,I=this.router.getCurrentNavigation()?.extras.state?.Copy;I?(this.serviceMasterInfo=x,this.copyMode=I,this.pageId=x?.serviceNumberCode,console.log(this.serviceMasterInfo)):(this.serviceMasterInfo=x,this.editMode=!0,this.pageId=x?.serviceNumberCode,console.log(this.serviceMasterInfo))}}ngOnInit(){this.apiService.get("servicetypes").subscribe(t=>{this.recordsServiceType=t}),this.apiService.get("measurements").subscribe(t=>{this.recordsMeasure=t}),this.apiService.get("materialgroups").subscribe(t=>{this.recordsMaterialGrp=t}),(this.editMode||this.copyMode)&&this.getServiceMasterById(this.pageId)}getServiceMasterById(t){this.serviceMasterInfo&&this.serviceMasterForm.patchValue({serviceNumberCode:this.serviceMasterInfo?.serviceNumberCode,searchTerm:this.serviceMasterInfo?.searchTerm,description:this.serviceMasterInfo?.description,serviceText:this.serviceMasterInfo?.serviceText,shortTextChangeAllowed:this.serviceMasterInfo?.shortTextChangeAllowed,deletionIndicator:this.serviceMasterInfo?.deletionIndicator,serviceTypeCode:this.serviceMasterInfo?.serviceTypeCode,baseUnitOfMeasurement:this.serviceMasterInfo?.baseUnitOfMeasurement,numberToBeConverted:this.serviceMasterInfo?.numberToBeConverted,toBeConvertedUnitOfMeasurement:this.serviceMasterInfo?.toBeConvertedUnitOfMeasurement,convertedNumber:this.serviceMasterInfo?.convertedNumber,defaultUnitOfMeasurement:this.serviceMasterInfo?.defaultUnitOfMeasurement,mainItem:this.serviceMasterInfo?.mainItem,materialGroupCode:this.serviceMasterInfo?.materialGroupCode})}onSubmit(t){const r=t.value;if(console.log(r),this.editMode)this.serviceMasterService.updateRecord(this.pageId,t.value),this.serviceMasterService.getRecords(),this.confirmationService.confirm({message:`ServiceMaster ${this.pageId} Updated successfully. Click Yes to go to the Main Page.`,header:"Updated Successfully",icon:"pi pi-check",accept:()=>{this.router.navigate(["/servicemaster"])},reject:void 0});else{const o=new Jo(r.searchTerm,r.description,r.serviceText,r.shortTextChangeAllowed,r.deletionIndicator,r.mainItem,r.numberToBeConverted,r.convertedNumber,r.serviceTypeCode,r.materialGroupCode,r.baseUnitOfMeasurement,r.toBeConvertedUnitOfMeasurement,r.defaultUnitOfMeasurement),i=Object.fromEntries(Object.entries(o).filter(([s,_])=>""!==_&&0!==_&&null!=_));console.log(i),this.apiService.post("servicenumbers",i).subscribe({next:s=>{console.log("service master created:",s)},error:s=>{console.log(s)},complete:()=>{this.confirmationService.confirm({message:"ServiceMaster  Added successfully. Click Yes to go to the Main Page.",header:"Added Successfully",icon:"pi pi-check",accept:()=>{this.router.navigate(["/servicemaster"])},reject:()=>{}})}})}}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(E),e.Y36(p.ez),e.Y36(v.F0),e.Y36(p.YP),e.Y36(v.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-service-master"]],features:[e._Bn([T.s,E,p.ez,p.YP])],decls:83,vars:48,consts:[[1,"card","mt-5"],[3,"formGroup","ngSubmit"],[1,"row","m-2"],[1,"field","col-12","md:col-3"],["for","id"],["id","serviceNumberCode","name","serviceNumberCode","type","number","formControlName","serviceNumberCode",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"disabled"],["for","code"],[2,"color","red"],["id","searchTerm","name","searchTerm","type","text","formControlName","searchTerm",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["class","text-danger m-1",4,"ngIf"],["for","description"],["id","description","name","description","formControlName","description",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],["for","serviceText"],["id","serviceText","name","serviceText","type","text","formControlName","serviceText",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full"],[1,"field","col-12","md:col-6"],["for","shortTextChangeAllowed",1,"mr-1"],["id","shortTextChangeAllowed","name","shortTextChangeAllowed","type","checkbox","formControlName","shortTextChangeAllowed"],["for","deletionIndicator",1,"mr-1"],["id","deletionIndicator","name","deletionIndicator","type","checkbox","formControlName","deletionIndicator"],["formControlName","serviceTypeCode","optionValue","serviceId","optionLabel","serviceId","placeholder","Select Service Type",3,"options","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize"],["pTemplate","item"],[2,"color","red","margin","5px"],["class","text-danger m-1 w-20","style","width:15rem",4,"ngIf"],["formControlName","baseUnitOfMeasurement","optionValue","code","optionLabel","code","placeholder","Select Base UnitOfMeasure",3,"options","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize"],["class","text-danger m-1 w-20","style","width:19rem",4,"ngIf"],["for","conversion"],[1,"form-control","m-2"],[1,"formgrid","grid"],["id","numberToBeConverted","pInputNumber","","name","numberToBeConverted","type","number","formControlName","numberToBeConverted",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"min"],["formControlName","toBeConvertedUnitOfMeasurement","optionValue","code","optionLabel","code","placeholder","Select ToBeConverted UnitOfMeasure",3,"options","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize"],["id","convertedNumber","pInputNumber","","name","convertedNumber","type","number","formControlName","convertedNumber",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"min"],["formControlName","defaultUnitOfMeasurement","optionValue","code","optionLabel","code","placeholder","Select Converted UnitOfMeasure",3,"options","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize"],["for","mainItem",1,"mr-1"],["id","mainItem","name","mainItem","type","checkbox","formControlName","mainItem"],["formControlName","materialGroupCode","optionValue","code","optionLabel","code","placeholder","Select Material Group",3,"options","filter","filterFields","showClear","virtualScroll","virtualScrollItemSize"],[1,"text-center","m-3"],["pButton","",1,"rounded-input",3,"disabled"],[1,"text-danger","m-1"],[1,"flex","align-items-center","gap-2"],[1,"text-danger","m-1","w-20",2,"width","15rem"],[1,"text-danger","m-1","w-20",2,"width","19rem"]],template:function(r,o){if(1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"div",0)(2,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit(o.serviceMasterForm)}),e.TgZ(3,"div",2)(4,"div",3)(5,"label",4),e._uU(6,"Service Number(ID):"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",3)(9,"label",6),e._uU(10,"SearchTerm:"),e.TgZ(11,"span",7),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",8),e.YNc(14,ko,2,0,"div",9),e.qZA(),e.TgZ(15,"div",3)(16,"label",10),e._uU(17,"Description:"),e.TgZ(18,"span",7),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",11),e.YNc(21,Lo,2,0,"div",9),e.qZA(),e.TgZ(22,"div",3)(23,"label",12),e._uU(24,"Service Text:"),e.qZA(),e._UZ(25,"input",13),e.qZA()(),e.TgZ(26,"div",2)(27,"div",14)(28,"label",15),e._uU(29,"Short Text Change Allowed:"),e.qZA(),e._UZ(30,"input",16),e.qZA(),e.TgZ(31,"div",14)(32,"label",17),e._uU(33,"Deletion Indicator:"),e.qZA(),e._UZ(34,"input",18),e.qZA()(),e.TgZ(35,"div",2)(36,"div",14)(37,"p-dropdown",19),e.YNc(38,Yo,3,2,"ng-template",20),e.qZA(),e.TgZ(39,"span",21),e._uU(40,"*"),e.qZA(),e.YNc(41,Qo,2,0,"div",22),e.qZA(),e.TgZ(42,"div",14)(43,"p-dropdown",23),e.YNc(44,Bo,3,2,"ng-template",20),e.qZA(),e.TgZ(45,"span",21),e._uU(46,"*"),e.qZA(),e.YNc(47,Ko,2,0,"div",24),e.qZA()(),e.TgZ(48,"h3"),e._uU(49,"Control Data:"),e.qZA(),e._UZ(50,"hr"),e.TgZ(51,"label",25),e._uU(52,"Conversion:"),e.qZA(),e.TgZ(53,"div",26)(54,"label",25),e._uU(55,"ToBe Converted Number:"),e.qZA(),e.TgZ(56,"div",27)(57,"div",14),e._UZ(58,"input",28),e.qZA(),e.TgZ(59,"div",14)(60,"p-dropdown",29),e.YNc(61,Go,3,2,"ng-template",20),e.qZA()()(),e.TgZ(62,"label",25),e._uU(63,"Converted Number:"),e.qZA(),e.TgZ(64,"div",27)(65,"div",14),e._UZ(66,"input",30),e.qZA(),e.TgZ(67,"div",14)(68,"p-dropdown",31),e.YNc(69,$o,3,2,"ng-template",20),e.qZA()()()(),e.TgZ(70,"div",2)(71,"div",14)(72,"label",32),e._uU(73,"Main Item:"),e.qZA(),e._UZ(74,"input",33),e.qZA(),e.TgZ(75,"div",14),e.ynx(76),e.TgZ(77,"p-dropdown",34),e.YNc(78,jo,3,2,"ng-template",20),e.qZA(),e.BQk(),e.qZA()(),e.TgZ(79,"div",35)(80,"button",36),e._uU(81),e.qZA()()()(),e._UZ(82,"p-confirmDialog")),2&r){let i,s,_,x;e.xp6(2),e.Q6J("formGroup",o.serviceMasterForm),e.xp6(5),e.Q6J("disabled",!0),e.xp6(7),e.Q6J("ngIf",(null==(i=o.serviceMasterForm.get("searchTerm"))||null==i.errors?null:i.errors.required)&&(null==(i=o.serviceMasterForm.get("searchTerm"))?null:i.touched)),e.xp6(7),e.Q6J("ngIf",(null==(s=o.serviceMasterForm.get("description"))||null==s.errors?null:s.errors.required)&&(null==(s=o.serviceMasterForm.get("description"))?null:s.touched)),e.xp6(16),e.Q6J("options",o.recordsServiceType)("filter",!0)("filterFields",e.DdM(42,Ho))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(4),e.Q6J("ngIf",(null==(_=o.serviceMasterForm.get("serviceTypeCode"))||null==_.errors?null:_.errors.required)&&(null==(_=o.serviceMasterForm.get("serviceTypeCode"))?null:_.touched)),e.xp6(2),e.Q6J("options",o.recordsMeasure)("filter",!0)("filterFields",e.DdM(43,q))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(4),e.Q6J("ngIf",(null==(x=o.serviceMasterForm.get("baseUnitOfMeasurement"))||null==x.errors?null:x.errors.required)&&(null==(x=o.serviceMasterForm.get("baseUnitOfMeasurement"))?null:x.touched)),e.xp6(11),e.Q6J("min",0),e.xp6(2),e.Q6J("options",o.recordsMeasure)("filter",!0)("filterFields",e.DdM(44,q))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(6),e.Q6J("min",0),e.xp6(2),e.Q6J("options",o.recordsMeasure)("filter",!0)("filterFields",e.DdM(45,q))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(9),e.Q6J("options",o.recordsMaterialGrp)("filter",!0)("filterFields",e.DdM(46,q))("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",40),e.xp6(3),e.Q6J("disabled",o.serviceMasterForm.invalid),e.xp6(1),e.hij("",o.editMode?"Update":"Add"," "),e.xp6(1),e.Akn(e.DdM(47,Wo))}},dependencies:[d.O5,a._Y,a.Fj,a.wV,a.Wl,a.JJ,a.JL,a.qQ,a.sg,a.u,C.Hq,p.jx,O.Lt,w.FN,y.Q]})}return n})();var Vo=c(6778);function Xo(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"input",11),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.searchValue=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSearchInputChange())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.searchValue)}}function er(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.navigateAddServices())}),e.qZA(),e.TgZ(1,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.navigateDetailServices())}),e.qZA(),e.TgZ(2,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.navigateEditService())}),e.qZA(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.navigateCopyService())}),e.qZA(),e.TgZ(4,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportExcel())}),e.qZA()}}const tr=function(){return{"min-width":"200px"}};function nr(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"p-multiSelect",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedColumns=o)}),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.DdM(4,tr)),e.Q6J("options",t.cols)("ngModel",t.selectedColumns)}}function or(n,l){if(1&n&&(e.TgZ(0,"th",20),e._uU(1),e._UZ(2,"p-sortIcon",21)(3,"p-columnFilter",22),e.qZA()),2&n){const t=l.$implicit;e.s9C("pSortableColumn",t.field),e.xp6(1),e.hij(" ",t.header," "),e.xp6(1),e.s9C("field",t.field),e.xp6(1),e.s9C("field",t.field)}}function rr(n,l){if(1&n&&(e.TgZ(0,"tr"),e._UZ(1,"th",18),e.YNc(2,or,4,4,"th",19),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t)}}function ir(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.hij(" ","S"+r[t.field]," ")}}function lr(n,l){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw().$implicit,r=e.oxw().$implicit;e.xp6(1),e.hij(" ",r[t.field]," ")}}function ar(n,l){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,ir,2,1,"ng-container",25),e.YNc(2,lr,2,1,"ng-container",25),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf","serviceNumberCode"===t.field),e.xp6(1),e.Q6J("ngIf","serviceNumberCode"!==t.field)}}function sr(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"p-checkbox",23),e.NdJ("onChange",function(o){const s=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.onRecordSelectionChange(o,s))}),e.qZA()(),e.YNc(3,ar,3,2,"td",24),e.qZA()}if(2&n){const t=l.$implicit,r=l.columns;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngForOf",r)}}const cr=function(){return["code","description","lastChangeDate","serviceTypeCode"]},dr=function(){return{"min-width":"50rem"}},pr=function(){return{width:"450px"}},ur=function(){return{width:"450px"}},mr=[{path:"",component:V},{path:"servicetype",component:V},{path:"model",component:Re},{path:"add-model",component:Le},{path:"servicemaster",component:(()=>{class n{constructor(t,r,o,i){this.apiService=t,this.serviceMasterService=r,this.router=o,this.cd=i,this.filteredRecords=this.serviceMasterRecords,this.selectedRecord=null,this.selectedRecords=[],this.editMode=!1,this.searchValue=""}ngOnInit(){this.serviceMasterService.getRecords(),this.subscription=this.serviceMasterService.recordsChanged.subscribe(t=>{this.serviceMasterRecords=t,this.filteredRecords=t.sort((r,o)=>o.serviceNumberCode-r.serviceNumberCode)}),this.cd.markForCheck(),this.cols=[{field:"serviceNumberCode",header:"Service Master Code"},{field:"searchTerm",header:"Search Term"},{field:"description",header:"Description"},{field:"lastChangeDate",header:"Last Change Date"},{field:"serviceTypeCode",header:"Service Type"}],this.selectedColumns=this.cols}onRecordSelectionChange(t,r){if(t.checked)this.selectedRecord=r,this.selectedRecords.includes(r)||this.selectedRecords.push(r);else{const o=this.selectedRecords.indexOf(r);-1!==o&&this.selectedRecords.splice(o,1)}}onSearchInputChange(){const t=this.searchValue;""!==t?this.apiService.get("servicenumbers/search",t).subscribe(r=>{console.log(r),this.filteredRecords=r}):this.filteredRecords=this.serviceMasterRecords}onColumnSelectionChange(){this.selectedColumns=this.cols.filter(t=>this.selectedColumns.includes(t))}navigateEditService(){this.selectedRecords.length>0&&this.router.navigate(["/add-edit-servicemaster"],{state:{Record:this.selectedRecord}})}navigateCopyService(){this.selectedRecords.length>0&&this.router.navigate(["/add-edit-servicemaster"],{state:{Record:this.selectedRecord,Copy:!0}})}navigateAddServices(){this.router.navigate(["/add-edit-servicemaster"])}navigateDetailServices(){this.selectedRecords.length>0&&this.router.navigate(["/detail-servicemaster"],{state:{RecordDetails:this.selectedRecord}})}exportExcel(){c.e(2).then(c.bind(c,2002)).then(t=>{const i={Sheets:{data:t.utils.json_to_sheet(this.selectedRecords.length>0?this.selectedRecords:this.serviceMasterRecords)},SheetNames:["data"]},s=t.write(i,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(s,"services")})}saveAsExcelFile(t,r){const s=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Vo.saveAs(s,r+"_export_"+(new Date).getTime()+".xlsx")}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(T.s),e.Y36(E),e.Y36(v.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-service-master"]],features:[e._Bn([p.ez,p.YP,E])],decls:12,vars:15,consts:[[1,"card","mt-5"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],[1,"table-container"],["scrollHeight","400px","dataKey","serviceNumberCode",3,"columns","value","scrollable","reorderableColumns","rows","filterDelay","globalFilterFields","tableStyle","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"field"],["pInputText","","type","text","placeholder","Search....",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"ngModel","ngModelChange","input"],["pButton","","label","Create","size","small","icon","pi pi-plus",1,"m-2",3,"click"],["pButton","","label","Details","size","small",1,"m-2",3,"click"],["pButton","","label","Edit","size","small",1,"m-2","edit-button",3,"click"],["pButton","","pRipple","","icon","pi pi-copy",3,"click"],["pButton","","label","Export","size","small","icon","pi pi-upload",1,"m-2",3,"click"],["optionLabel","header","selectedItemsLabel","{0} columns selected","placeholder","Choose Columns",3,"options","ngModel","ngModelChange"],[2,"width","4rem"],["pReorderableColumn","",3,"pSortableColumn",4,"ngFor","ngForOf"],["pReorderableColumn","",3,"pSortableColumn"],[3,"field"],["type","text","display","menu",1,"ml-auto",3,"field"],[3,"value","onChange"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,Xo,2,1,"ng-template",2),e.YNc(4,er,5,0,"ng-template",3),e.qZA(),e.TgZ(5,"div",4)(6,"p-table",5,6),e.YNc(8,nr,1,5,"ng-template",7),e.YNc(9,rr,3,1,"ng-template",8),e.YNc(10,sr,4,2,"ng-template",9),e.qZA()()(),e._UZ(11,"p-confirmDialog")),2&r&&(e.xp6(6),e.Q6J("columns",o.selectedColumns)("value",o.filteredRecords)("scrollable",!0)("reorderableColumns",!0)("rows",10)("filterDelay",0)("globalFilterFields",e.DdM(12,cr))("tableStyle",e.DdM(13,dr))("rowHover",!0)("showCurrentPageReport",!0),e.xp6(5),e.Akn(e.DdM(14,pr)))},dependencies:[d.sg,d.O5,a.Fj,a.JJ,a.On,C.Hq,p.jx,g.iA,g.lQ,g.Af,g.fz,g.xl,R.o,w.FN,y.Q,G.NU,Y.XZ],styles:["[_nghost-%COMP%]     .p-dialog .product-image{width:150px;margin:0 auto 2rem;display:block}.card[_ngcontent-%COMP%]{padding:1rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:1rem}.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{flex:1 1 200px;margin-right:1rem}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 200px}@media screen and (max-width: 575px){.table-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{margin-bottom:1rem;margin-right:0}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 576px) and (max-width: 767px){.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{flex:1 1 150px;margin-right:.5rem}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 150px}}@media screen and (min-width: 768px) and (max-width: 991px){.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{flex:1 1 180px;margin-right:.5rem}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 180px}}@media screen and (min-width: 992px) and (max-width: 1199px){.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{flex:1 1 200px;margin-right:.5rem}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 200px}}@media screen and (min-width: 1200px){.table-actions[_ngcontent-%COMP%]   p-multiSelect[_ngcontent-%COMP%]{flex:1 1 220px;margin-right:1rem}.table-actions[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 220px}}\n\n/*# sourceMappingURL=new-service-master.component.css.map*/"]})}return n})()},{path:"add-edit-servicemaster",component:zo},{path:"detail-servicemaster",component:(()=>{class n{constructor(t){if(this.router=t,this.selectedRecord={serviceNumberCode:0,searchTerm:"",description:"",serviceText:"",shortTextChangeAllowed:!1,deletionIndicator:!1,numberToBeConverted:0,convertedNumber:0,mainItem:!1,serviceTypeCode:"",materialGroupCode:"",baseUnitOfMeasurement:"",toBeConvertedUnitOfMeasurement:"",defaultUnitOfMeasurement:""},this.router.getCurrentNavigation()?.extras.state){const r=this.router.getCurrentNavigation()?.extras.state?.RecordDetails;r&&(this.selectedRecord=r,console.log(this.selectedRecord))}}navigateMainPage(){this.router.navigate(["/servicemaster"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-service-master-detail"]],features:[e._Bn([T.s,E,p.ez,p.YP])],decls:71,vars:31,consts:[[1,"row","m-2"],[1,"field","col-12","md:col-3"],["for","id",2,"color","rgb(11, 37, 139)"],["id","serviceNumberCode","name","serviceNumberCode","type","number",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"value","disabled"],["for","code",2,"color","rgb(11, 37, 139)"],[2,"color","red"],["id","searchTerm","name","searchTerm","required","","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"value","disabled"],["for","description",2,"color","rgb(11, 37, 139)"],["id","description","name","description","required","","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"value","disabled"],["for","serviceText",2,"color","rgb(11, 37, 139)"],["id","serviceText","name","serviceText","type","text",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary","w-full",3,"value","disabled"],[1,"field","col-12","md:col-6"],["for","shortTextChangeAllowed",1,"mr-1",2,"color","rgb(11, 37, 139)"],["id","shortTextChangeAllowed","name","shortTextChangeAllowed",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["for","deletionIndicator",1,"mr-1",2,"color","rgb(11, 37, 139)"],["id","deletionIndicator","name","deletionIndicator","type","checkbox",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["for","ServiceTypeCode",2,"color","rgb(11, 37, 139)"],["id","ServiceTypeCode","name","ServiceTypeCode",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["for","baseUnitOfMeasurement",2,"color","rgb(11, 37, 139)"],["id","baseUnitOfMeasurement","name","baseUnitOfMeasurement",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["for","numberToBeConverted",2,"color","rgb(11, 37, 139)"],[1,"field","md:col-2"],["id","numberToBeConverted","name","numberToBeConverted","type","number",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"value","disabled"],[1,"field","md:col-4"],["id","toBeConvertedUnitOfMeasurement","name","toBeConvertedUnitOfMeasurement",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["id","convertedNumber","name","convertedNumber","type","number",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"value","disabled"],[1,"field","md:col-3"],["id","defaultUnitOfMeasurement","name","defaultUnitOfMeasurement",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"disabled","value"],["for","mainItem",1,"mr-1",2,"color","rgb(11, 37, 139)"],["id","mainItem","name","mainItem",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"value","disabled"],["for","materialGroupCode",2,"color","rgb(11, 37, 139)"],["id","materialGroupCode","name","materialGroupCode",1,"text-base","text-color","surface-overlay","p-2","border-1","border-solid","surface-border","border-round","appearance-none","outline-none","focus:border-primary",3,"value","disabled"],[1,"text-center","m-3"],["pButton","","pRipple","","label","OK",1,"p-button-rounded","m-2",3,"click"]],template:function(r,o){1&r&&(e._UZ(0,"p-toast"),e.TgZ(1,"form")(2,"div",0)(3,"div",1)(4,"label",2),e._uU(5,"Service Number(ID):"),e.qZA(),e._UZ(6,"input",3),e.qZA(),e.TgZ(7,"div",1)(8,"label",4),e._uU(9,"SearchTerm:"),e.TgZ(10,"span",5),e._uU(11,"*"),e.qZA()(),e._UZ(12,"input",6),e.qZA(),e.TgZ(13,"div",1)(14,"label",7),e._uU(15,"Description: "),e.TgZ(16,"span",5),e._uU(17,"*"),e.qZA()(),e._UZ(18,"input",8),e.qZA(),e.TgZ(19,"div",1)(20,"label",9),e._uU(21,"Service Text:"),e.qZA(),e._UZ(22,"input",10),e.qZA()(),e.TgZ(23,"div",0)(24,"div",11)(25,"label",12),e._uU(26,"Short Text Change Allowed:"),e.qZA(),e._UZ(27,"input",13),e.qZA(),e.TgZ(28,"div",11)(29,"label",14),e._uU(30,"Deletion Indicator:"),e.qZA(),e._UZ(31,"input",15),e.qZA()(),e.TgZ(32,"div",0)(33,"div",11)(34,"label",16),e._uU(35,"Service Type:"),e.TgZ(36,"span",5),e._uU(37,"*"),e.qZA()(),e._UZ(38,"input",17),e.qZA(),e.TgZ(39,"div",11)(40,"label",18),e._uU(41,"Base UnitOfMeasurement:"),e.TgZ(42,"span",5),e._uU(43,"*"),e.qZA()(),e._UZ(44,"input",19),e.qZA()(),e.TgZ(45,"h3"),e._uU(46,"Control Data:"),e.qZA(),e._UZ(47,"hr"),e.TgZ(48,"div",0)(49,"label",20),e._uU(50,"Conversion:"),e.qZA(),e.TgZ(51,"div",21),e._UZ(52,"input",22),e.qZA(),e.TgZ(53,"div",23),e._UZ(54,"input",24),e.qZA(),e.TgZ(55,"div",21),e._UZ(56,"input",25),e.qZA(),e.TgZ(57,"div",26),e._UZ(58,"input",27),e.qZA()(),e.TgZ(59,"div",0)(60,"div",11)(61,"label",28),e._uU(62,"Main Item:"),e.qZA(),e._UZ(63,"input",29),e.qZA(),e.TgZ(64,"div",11)(65,"label",30),e._uU(66," Material Grp:"),e.qZA(),e._UZ(67,"input",31),e.qZA()(),e.TgZ(68,"div",32)(69,"button",33),e.NdJ("click",function(){return o.navigateMainPage()}),e.qZA()()(),e._UZ(70,"p-confirmDialog")),2&r&&(e.xp6(6),e.Q6J("value",o.selectedRecord.serviceNumberCode)("disabled",!0),e.xp6(6),e.Q6J("value",o.selectedRecord.searchTerm)("disabled",!0),e.xp6(6),e.Q6J("value",o.selectedRecord.description)("disabled",!0),e.xp6(4),e.Q6J("value",o.selectedRecord.serviceText)("disabled",!0),e.xp6(5),e.Q6J("disabled",!0)("value",o.selectedRecord.shortTextChangeAllowed),e.xp6(4),e.Q6J("disabled",!0)("value",o.selectedRecord.deletionIndicator),e.xp6(7),e.Q6J("disabled",!0)("value",o.selectedRecord.serviceTypeCode),e.xp6(6),e.Q6J("disabled",!0)("value",o.selectedRecord.baseUnitOfMeasurement),e.xp6(8),e.Q6J("value",o.selectedRecord.numberToBeConverted)("disabled",!0),e.xp6(2),e.Q6J("disabled",!0)("value",o.selectedRecord.toBeConvertedUnitOfMeasurement),e.xp6(2),e.Q6J("value",o.selectedRecord.convertedNumber)("disabled",!0),e.xp6(2),e.Q6J("disabled",!0)("value",o.selectedRecord.defaultUnitOfMeasurement),e.xp6(5),e.Q6J("value",o.selectedRecord.mainItem)("disabled",!0),e.xp6(4),e.Q6J("value",o.selectedRecord.materialGroupCode)("disabled",!0),e.xp6(3),e.Akn(e.DdM(30,ur)))},dependencies:[a._Y,a.JL,a.F,C.Hq,w.FN,y.Q]})}return n})()},{path:"modelSpecDetails",component:jn},{path:"formulas",component:qo},{path:"formula",component:lo,children:[{path:"",component:X},{path:"create",component:X},{path:"parameter",component:Co},{path:"relation",component:So},{path:"test",component:Zo.w}]}];let gr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[v.Bz.forRoot(mr),v.Bz]})}return n})();var fr=c(3738),hr=c(8071),ne=c(3252);class oe{constructor(l,t,r){this.email=l,this._token=t,this.roles=r}get token(){return this._token}}var ie=c(951);let J=(()=>{class n{constructor(t,r){this.http=t,this.router=r,this.clientID="1830c61b-9601-4c91-a0c5-901cdbf0c2e4",this.clientSecret="mGV7xPbl[MV51HG-lVeHQV2=LkTg=@",this.authUrl="https://proxy-app.cfapps.us10-001.hana.ondemand.com/auth",this.registerUrl="https://proxy-app.cfapps.us10-001.hana.ondemand.com/api/iasusers",this.loggedInUser=new hr.X(null)}hasRole(t){const r=this.loggedInUser.value;return console.log(r),console.log(r?.roles),!(!r||!r.roles)&&t.some(o=>r.roles.includes(o))}signUp(t,r,o,i){const s=new h.WM({"Content-Type":"application/json"}),_={value:t,familyName:r,givenName:o,userName:i};return JSON.stringify(_),console.log(_),this.http.post(this.registerUrl,_,{headers:s})}signIn(t,r){const o=new h.WM({Authorization:"Basic "+btoa(`${this.clientID}:${this.clientSecret}`),"Content-Type":"application/x-www-form-urlencoded"});console.log(o);const i=new URLSearchParams;return i.set("grant_type","password"),i.set("username",t),i.set("password",r),console.log(i),console.log(i.toString()),this.http.post(this.authUrl,i.toString(),{headers:o}).pipe((0,fr.b)(s=>{let _;console.log(s.id_token),_=(0,ie.o)(s.id_token);const I=new oe(t,s.id_token,_.groups||[]);return localStorage.setItem("token",s.id_token),this.loggedInUser.next(I),I}))}logout(){this.loggedInUser.next(null),this.router.navigate(["/login"]),localStorage.removeItem("token"),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}handleError(t){let r="An unknown error occurred!";if(!t.error||!t.error.error)return(0,ne._)(r);switch(t.error.error.message){case"EMAIL_EXISTS":r="This email exists already";break;case"EMAIL_NOT_FOUND":r="This email does not exist.";break;case"INVALID_PASSWORD":r="This password is not correct."}return(0,ne._)(r)}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(h.eN),e.LFG(v.F0))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vr=c(6413);function Cr(n,l){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",12)(2,"a",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onLogout())}),e._uU(3,"Logout"),e.qZA()(),e.BQk()}}function br(n,l){1&n&&(e.TgZ(0,"li",12)(1,"a",21),e._uU(2,"Home"),e.qZA()())}let xr=(()=>{class n{constructor(t){this.authService=t,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.loggedInUser.subscribe(t=>{this.isAuthenticated=!!t,console.log(!t),console.log(!!t)})}onLogout(){this.authService.logout()}ngOnDestroy(){this.userSub.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(J))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-header"]],decls:30,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-dark","navbar-dark","fixed-top"],[1,"container-fluid"],["href","#","aria-label","SAP",1,"fd-shellbar__logo","fd-shellbar__logo--image-replaced"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"navbar-nav","justify-content-start","flex-grow-1","pe-3"],[1,"nav-item"],["aria-current","page","routerLink","/servicemaster",1,"nav-link","active"],["aria-current","page","routerLink","/servicetype",1,"nav-link","active"],["aria-current","page","routerLink","/model",1,"nav-link","active"],["aria-current","page","routerLink","/formulas",1,"nav-link","active"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],[4,"ngIf","ngIfElse"],["loginLink",""],[1,"nav-link",2,"cursor","pointer",3,"click"],["routerLink","/home",1,"nav-link"]],template:function(r,o){if(1&r&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"fd-shellbar-logo"),e._UZ(3,"a",2)(4,"a",3),e.qZA(),e.TgZ(5,"button",4),e._UZ(6,"span",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"h5",8),e._uU(10,"SD App"),e.qZA(),e._UZ(11,"button",9),e.qZA(),e.TgZ(12,"div",10)(13,"ul",11)(14,"li",12)(15,"a",13),e._uU(16,"Service-Master"),e.qZA()(),e.TgZ(17,"li",12)(18,"a",14),e._uU(19,"Service-Type"),e.qZA()(),e.TgZ(20,"li",12)(21,"a",15),e._uU(22,"Model"),e.qZA()(),e.TgZ(23,"li",12)(24,"a",16),e._uU(25,"Formula"),e.qZA()()(),e.TgZ(26,"ul",17),e.YNc(27,Cr,4,0,"ng-container",18),e.YNc(28,br,3,0,"ng-template",null,19,e.W1O),e.qZA()()()()()),2&r){const i=e.MAs(29);e.xp6(27),e.Q6J("ngIf",o.isAuthenticated)("ngIfElse",i)}},dependencies:[vr.SB,d.O5,v.rH],styles:[".nav-link[_ngcontent-%COMP%]{position:relative;color:#fff;text-decoration:none;transition:background-color .3s ease,color .3s ease}.nav-link[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;border-radius:5px;padding:10px}.offcanvas.show[_ngcontent-%COMP%]{background-color:#050616}.offcanvas[_ngcontent-%COMP%]   .offcanvas-title[_ngcontent-%COMP%], .offcanvas.show[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{color:#fff}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{color:#fff!important;background-color:transparent!important}.offcanvas.show[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{color:#fff}\n\n/*# sourceMappingURL=header.component.css.map*/"]})}return n})(),Tr=(()=>{class n{constructor(){this.title="BTP-SD-APP"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container-fluid"],[1,"row"]],template:function(r,o){1&r&&(e._UZ(0,"app-header"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"router-outlet"),e.qZA()(),e._UZ(4,"ng-http-loader"))},dependencies:[v.lC,Z.QN,xr],styles:[".container-fluid[_ngcontent-%COMP%]{margin-top:5%}\n\n/*# sourceMappingURL=app.component.css.map*/"]})}return n})();function Mr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," Email is required. "),e.qZA())}function Sr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Mr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.username.errors?null:t.loginForm.controls.username.errors.required)}}function Zr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," Please Enter Valid Email. "),e.qZA())}function wr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Zr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.username.errors?null:t.loginForm.controls.username.errors.username)}}function Ar(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," Password is required. "),e.qZA())}function yr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Ar,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.loginForm.controls.password.errors?null:t.loginForm.controls.password.errors.required)}}function Dr(n,l){1&n&&e._UZ(0,"span",20)}let Ir=(()=>{class n{constructor(t,r){this.router=t,this.authService=r,this.loginForm=new a.cw({username:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required])}),this.isShown=!0,this.loading=!1,this.submitted=!1}ngOnInit(){}onSubmit(t){console.log(t),console.log(t.value.username),this.loading=!0,this.authService.signIn(t.value.username,t.value.password).subscribe({next:r=>{let o;console.log(r),o=(0,ie.o)(r.id_token);const s=new oe(t.value.username,r.id_token,o.groups||[]);localStorage.setItem("token",r.id_token),this.authService.loggedInUser.next(s),this.loading=!1,this.router.navigate(["/servicetype"])},error:r=>{console.log(r),alert(r),this.loading=!1},complete:()=>{}})}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.F0),e.Y36(J))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e._Bn([])],decls:26,vars:9,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","card-style"],[1,"card-header","login-header",2,"text-align","center"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","username",1,"form-control"],["class","error",4,"ngIf"],[1,"input-group"],["formControlName","password",1,"form-control",3,"type"],[1,"input-group-text",3,"click"],["aria-hidden","true",1,"fa"],[1,"d-flex","justify-content-center","my-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/register",1,"btn","btn-link"],[1,"error"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Login"),e.qZA(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit(o.loginForm)}),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"Email"),e.qZA(),e._UZ(9,"input",7),e.YNc(10,Sr,2,1,"span",8),e.YNc(11,wr,2,1,"span",8),e.qZA(),e.TgZ(12,"div",5)(13,"label",6),e._uU(14,"Password"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"input",10),e.TgZ(17,"span",11),e.NdJ("click",function(){return o.isShown=!o.isShown}),e._UZ(18,"i",12),e.qZA()()(),e.YNc(19,yr,2,1,"span",8),e.TgZ(20,"div",13)(21,"button",14),e.YNc(22,Dr,1,0,"span",15),e._uU(23," Login "),e.qZA(),e.TgZ(24,"a",16),e._uU(25,"New Account?"),e.qZA()()()()()()),2&r&&(e.xp6(5),e.Q6J("formGroup",o.loginForm),e.xp6(5),e.Q6J("ngIf",o.loginForm.controls.username.invalid&&(o.loginForm.controls.username.dirty||o.loginForm.controls.username.touched)),e.xp6(1),e.Q6J("ngIf",o.loginForm.controls.username.invalid&&(o.loginForm.controls.username.dirty||o.loginForm.controls.username.touched)),e.xp6(5),e.Q6J("type",o.isShown?"password":"text"),e.xp6(2),e.Tol(o.isShown?"fa-eye-slash":"fa-eye"),e.xp6(1),e.Q6J("ngIf",o.loginForm.controls.password.invalid&&(o.loginForm.controls.password.dirty||o.loginForm.controls.password.touched)),e.xp6(2),e.Q6J("disabled",o.loginForm.invalid),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,v.rH],styles:[".login-header[_ngcontent-%COMP%]{background:rgb(12,77,129);padding:20px;font-size:1.4em;font-weight:400;text-align:center;text-transform:uppercase;color:#fff}.card-style[_ngcontent-%COMP%]{max-width:800px;width:100%}.input-group-text[_ngcontent-%COMP%]{cursor:pointer!important}\n\n/*# sourceMappingURL=login.component.css.map*/"]})}return n})();function Nr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," FirstName is required. "),e.qZA())}function Ur(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Nr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.registerForm.controls.firstName.errors?null:t.registerForm.controls.firstName.errors.required)}}function Or(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," LastName is required. "),e.qZA())}function Er(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Or,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.registerForm.controls.lastName.errors?null:t.registerForm.controls.lastName.errors.required)}}function Rr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," UserName is required. "),e.qZA())}function Pr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Rr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.registerForm.controls.username.errors?null:t.registerForm.controls.username.errors.required)}}function Fr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," Email is required. "),e.qZA())}function qr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Fr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.registerForm.controls.email.errors?null:t.registerForm.controls.email.errors.required)}}function Jr(n,l){1&n&&(e.TgZ(0,"span",19),e._uU(1," Please Enter Valid Email. "),e.qZA())}function kr(n,l){if(1&n&&(e.TgZ(0,"span",17),e.YNc(1,Jr,2,0,"span",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.registerForm.controls.email.errors?null:t.registerForm.controls.email.errors.email)}}function Lr(n,l){1&n&&e._UZ(0,"span",20)}function Yr(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"h4"),e._uU(3,"Your Account has been created successfully,"),e.qZA(),e.TgZ(4,"p"),e._uU(5," plaese check your email to activate your account.Then,You can login "),e.qZA(),e.TgZ(6,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.closePopup())}),e._uU(7,"OK"),e.qZA()()()}}let Qr=(()=>{class n{constructor(t,r,o){this.route=t,this.router=r,this.authService=o,this.registerForm=new a.cw({firstName:new a.NI("",[a.kI.required]),lastName:new a.NI("",[a.kI.required]),username:new a.NI("",[a.kI.required]),email:new a.NI("",[a.kI.required,a.kI.email])}),this.loading=!1,this.submitted=!1,this.showPopup=!1}ngOnInit(){}onSubmit(t){console.log(t),this.submitted=!0,this.loading=!0,this.authService.signUp(t.value.email,t.value.lastName,t.value.firstName,t.value.username).subscribe({next:r=>{console.log(r),this.showPopup=!0,this.loading=!1},error:r=>{console.log(r),this.loading=!1}})}closePopup(){this.showPopup=!1,this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(v.gz),e.Y36(v.F0),e.Y36(J))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:34,vars:9,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","card-style"],[1,"card-header","register-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control"],["class","error",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","username",1,"form-control"],["type","email","formControlName","email",1,"form-control"],[1,"d-flex","justify-content-center","my-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/login",1,"btn","btn-link"],["class","popup-container",4,"ngIf"],[1,"error"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"popup-container"],[1,"popup"],[1,"form-button","ok-button",2,"border-radius","8px",3,"click"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Create a New Account"),e.qZA(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return o.onSubmit(o.registerForm)}),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"input",7),e.YNc(10,Ur,2,1,"span",8),e.qZA(),e.TgZ(11,"div",5)(12,"label",6),e._uU(13,"Last Name"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,Er,2,1,"span",8),e.qZA(),e.TgZ(16,"div",5)(17,"label",6),e._uU(18,"Username"),e.qZA(),e._UZ(19,"input",10),e.YNc(20,Pr,2,1,"span",8),e.qZA(),e.TgZ(21,"div",5)(22,"label",6),e._uU(23,"Email"),e.qZA(),e._UZ(24,"input",11),e.YNc(25,qr,2,1,"span",8),e.YNc(26,kr,2,1,"span",8),e.qZA(),e.TgZ(27,"div",12)(28,"button",13),e.YNc(29,Lr,1,0,"span",14),e._uU(30," Register "),e.qZA(),e.TgZ(31,"a",15),e._uU(32,"Have an Account?"),e.qZA()()()()()(),e.YNc(33,Yr,8,0,"div",16)),2&r&&(e.xp6(5),e.Q6J("formGroup",o.registerForm),e.xp6(5),e.Q6J("ngIf",o.registerForm.controls.firstName.invalid&&(o.registerForm.controls.firstName.dirty||o.registerForm.controls.firstName.touched)),e.xp6(5),e.Q6J("ngIf",o.registerForm.controls.lastName.invalid&&(o.registerForm.controls.lastName.dirty||o.registerForm.controls.lastName.touched)),e.xp6(5),e.Q6J("ngIf",o.registerForm.controls.username.invalid&&(o.registerForm.controls.username.dirty||o.registerForm.controls.username.touched)),e.xp6(5),e.Q6J("ngIf",o.registerForm.controls.email.invalid&&(o.registerForm.controls.email.dirty||o.registerForm.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",o.registerForm.controls.email.invalid&&(o.registerForm.controls.email.dirty||o.registerForm.controls.email.touched)),e.xp6(2),e.Q6J("disabled",o.registerForm.invalid),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(4),e.Q6J("ngIf",o.showPopup))},dependencies:[d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,v.rH],styles:[".register-header[_ngcontent-%COMP%]{background:rgb(12,77,129);padding:20px;font-size:1.4em;font-weight:400;text-align:center;text-transform:uppercase;color:#fff}.card-style[_ngcontent-%COMP%]{max-width:800px;width:100%}.popup-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#00000080;z-index:1000}.popup[_ngcontent-%COMP%]{position:relative;background:white;border:1px solid #ccc;width:30vw;height:30vh;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 0 10px #0000001a;overflow:auto;padding:1rem}.ok-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}\n\n/*# sourceMappingURL=register.component.css.map*/"]})}return n})(),Br=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[d.ez,a.u5,a.UX,v.Bz.forChild([{path:"register",component:Qr},{path:"login",component:Ir}])]})}return n})();var Kr=c(1527),Gr=c(1355);let $r=(()=>{class n{constructor(t){this.authService=t}intercept(t,r){return this.authService.loggedInUser.pipe((0,Kr.q)(1),(0,Gr.z)(o=>{if(!o)return r.handle(t);const i=t.clone({headers:(new h.WM).set("Authorization",`Bearer ${o.token}`)});return r.handle(i)}))}static#e=this.\u0275fac=function(r){return new(r||n)(e.LFG(J))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})(),jr=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.oAB({type:n,bootstrap:[Tr]});static#n=this.\u0275inj=e.cJS({providers:[(0,b.ly)(),{provide:h.TP,useClass:$r,multi:!0}],imports:[M.$D6,b.b2,gr,k.PW,m.IJ,a.u5,a.UX,h.JF,d.ez,Br,C.hJ,g.U$,O.kW,L.S,R.V,B.A,le.$,w.EV,K.q,ce.x,N.d,ae.o,y.D,se.U,G.q4,Y.nD,de.L,pe.dp,Z.wc.forRoot()]})}return n})();b.q6().bootstrapModule(jr).catch(n=>console.error(n))}},u=>{u.O(0,[736],()=>u(u.s=3883)),u.O()}]);
//# sourceMappingURL=main.b4e3794345a6ae59.js.map